{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabo1\\\\OneDrive\\\\Escritorio\\\\FinalProject\\\\frontend\\\\src\\\\components\\\\SignLanguageCalculator.tsx\",\n  _s = $RefreshSig$();\n// SignLanguageCalculator.tsx\nimport React, { useState, useRef, useEffect, useCallback, useMemo } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { XCircle as XIcon, CheckCircle as CheckIcon, RefreshCw as RefreshIcon, Power as PowerIcon, Zap as ZapIcon } from \"lucide-react\";\nimport toast from \"react-hot-toast\";\nimport { api } from \"../utils/api\";\nimport { createMediaPipeHandler } from \"../utils/mediapipe\";\n\n/**\r\n * Safe evaluation (sanitizado)\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst safeEvaluateExpression = expr => {\n  const sanitized = expr.replace(/[^0-9+\\-*/.]/g, \"\");\n  if (!sanitized) return \"0\";\n  try {\n    // eslint-disable-next-line no-new-func\n    const val = Function(`\"use strict\"; return (${sanitized});`)();\n    if (typeof val === \"number\" && isFinite(val)) return String(val);\n    return \"Error\";\n  } catch {\n    return \"Error\";\n  }\n};\n/**\r\n * UI InputBlock\r\n */\nconst InputBlock = ({\n  title,\n  value,\n  isActive,\n  dark\n}) => {\n  const base = \"p-4 rounded-xl font-bold text-center border-2 transition-all duration-300 shadow-md\";\n  const bg = dark ? \"bg-gray-800\" : \"bg-white\";\n  const border = isActive ? \"border-indigo-400 ring-4 ring-indigo-500/30\" : dark ? \"border-gray-600\" : \"border-gray-300\";\n  const text = dark ? \"text-white\" : \"text-gray-900\";\n  const titleColor = dark ? \"text-gray-400\" : \"text-gray-600\";\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: `${base} ${bg} ${border}`,\n    animate: {\n      scale: isActive ? 1.03 : 1\n    },\n    transition: {\n      type: \"spring\",\n      stiffness: 300,\n      damping: 25\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: `text-sm uppercase tracking-wider ${titleColor}`,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `text-3xl mt-1 ${text}`,\n      children: value || (isActive ? \"✋\" : \"—\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * Component\r\n */\n_c = InputBlock;\nconst SignLanguageCalculator = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const mpHandler = useRef(null);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [handsDetected, setHandsDetected] = useState(false);\n  const [isAutoRecognizing, setIsAutoRecognizing] = useState(true);\n  const [isPredicting, setIsPredicting] = useState(false);\n  const [calcState, setCalcState] = useState({\n    num1: \"\",\n    operator: \"\",\n    num2: \"\",\n    result: \"\",\n    activeBlock: \"num1\"\n  });\n  const lastPredictionRef = useRef(null);\n  const currentLandmarksRef = useRef(null);\n  const recognitionIntervalRef = useRef(null);\n  const isDarkMode = useMemo(() => document.body.classList.contains(\"dark\"), []);\n\n  // MODELOS\n  const [models, setModels] = useState([]);\n  const [selectedModelId, setSelectedModelId] = useState(\"\");\n  useEffect(() => {\n    api.get(\"/models\").then(res => setModels(res.data)).catch(() => setModels([]));\n  }, []);\n\n  // MediaPipe results callback (support for up to 2 hands)\n  const onResults = useCallback(results => {\n    const hasHands = !!(results.multiHandLandmarks && results.multiHandLandmarks.length > 0);\n    setHandsDetected(hasHands);\n\n    // Prefer right hand if both present; otherwise first one\n    if (hasHands) {\n      let chosen = results.multiHandLandmarks[0];\n      if (results.multiHandedness && results.multiHandedness.length > 0) {\n        const rightIndex = results.multiHandedness.findIndex(h => {\n          var _h$label, _h$label$toLowerCase;\n          return ((_h$label = h.label) === null || _h$label === void 0 ? void 0 : (_h$label$toLowerCase = _h$label.toLowerCase) === null || _h$label$toLowerCase === void 0 ? void 0 : _h$label$toLowerCase.call(_h$label)) === \"right\";\n        });\n        if (rightIndex >= 0 && results.multiHandLandmarks[rightIndex]) {\n          chosen = results.multiHandLandmarks[rightIndex];\n        }\n      }\n      if (chosen && chosen.length === 21) {\n        currentLandmarksRef.current = chosen.map(l => ({\n          x: l.x,\n          y: l.y,\n          z: l.z\n        }));\n      } else {\n        currentLandmarksRef.current = null;\n      }\n    } else {\n      currentLandmarksRef.current = null;\n    }\n  }, []);\n\n  // start / stop camera\n  const startCamera = useCallback(async () => {\n    if (!videoRef.current || !canvasRef.current) {\n      toast.error(\"No se encontró video/canvas\");\n      return;\n    }\n    setIsInitializing(true);\n    try {\n      if (mpHandler.current) mpHandler.current.stop();\n      mpHandler.current = createMediaPipeHandler();\n      const ok = await mpHandler.current.initialize(videoRef.current, canvasRef.current, onResults);\n      if (!ok) throw new Error(\"Error inicializando MediaPipe\");\n      setCameraActive(true);\n      setIsAutoRecognizing(true);\n      toast.success(\"Cámara iniciada\");\n    } catch (err) {\n      console.error(err);\n      toast.error(\"No se pudo iniciar la cámara\");\n    } finally {\n      setIsInitializing(false);\n    }\n  }, [onResults]);\n  const stopCamera = useCallback(() => {\n    if (mpHandler.current) mpHandler.current.stop();\n    setCameraActive(false);\n    setIsAutoRecognizing(false);\n    setHandsDetected(false);\n    currentLandmarksRef.current = null;\n    lastPredictionRef.current = null;\n    if (recognitionIntervalRef.current !== null) {\n      clearInterval(recognitionIntervalRef.current);\n      recognitionIntervalRef.current = null;\n    }\n    toast.success(\"Cámara detenida\");\n  }, []);\n\n  // reset calculator state\n  const resetCalculator = useCallback(() => {\n    setCalcState({\n      num1: \"\",\n      operator: \"\",\n      num2: \"\",\n      result: \"\",\n      activeBlock: \"num1\"\n    });\n  }, []);\n\n  // process prediction into calculation state\n  const processPrediction = useCallback(prediction => {\n    setCalcState(prev => {\n      // clear instruction\n      if (prediction === \"clear\") {\n        return {\n          num1: \"\",\n          operator: \"\",\n          num2: \"\",\n          result: \"\",\n          activeBlock: \"num1\"\n        };\n      }\n\n      // numeric\n      if (!isNaN(Number(prediction))) {\n        if (prev.activeBlock === \"num1\") {\n          // append digit to num1 and move to operator\n          return {\n            ...prev,\n            num1: prev.num1 + prediction,\n            activeBlock: \"operator\"\n          };\n        }\n        if (prev.activeBlock === \"num2\") {\n          // append digit to num2 and mark complete\n          return {\n            ...prev,\n            num2: prev.num2 + prediction,\n            activeBlock: \"complete\"\n          };\n        }\n        // if operator waiting, ignore digit (user should supply operator first)\n        return prev;\n      }\n\n      // operator\n      if ([\"+\", \"-\", \"*\", \"/\"].includes(prediction)) {\n        if (prev.num1 && prev.activeBlock === \"operator\") {\n          return {\n            ...prev,\n            operator: prediction,\n            activeBlock: \"num2\"\n          };\n        }\n        return prev;\n      }\n\n      // equal\n      if (prediction === \"equal\") {\n        if (prev.num1 && prev.operator && prev.num2) {\n          const expr = `${prev.num1}${prev.operator}${prev.num2}`;\n          const safe = safeEvaluateExpression(expr);\n          if (safe === \"Error\") {\n            toast.error(\"Expresión inválida\");\n            return {\n              ...prev,\n              result: \"Error\"\n            };\n          }\n          // move result to num1 to allow chaining\n          return {\n            num1: safe,\n            operator: \"\",\n            num2: \"\",\n            result: safe,\n            activeBlock: \"operator\"\n          };\n        }\n        toast.error(\"Faltan valores para calcular\");\n        return prev;\n      }\n      return prev;\n    });\n  }, []);\n\n  // recognition function\n  const recognizeSign = useCallback(async (isAuto = false) => {\n    if (!currentLandmarksRef.current) {\n      if (!isAuto) toast.error(\"No se detecta la mano\");\n      return;\n    }\n    if (isPredicting) return;\n    if (!selectedModelId) {\n      toast.error(\"Selecciona un modelo primero\");\n      return;\n    }\n    setIsPredicting(true);\n    try {\n      const payload = {\n        modelId: selectedModelId,\n        landmarks: currentLandmarksRef.current\n      };\n      const response = await api.post(\"/prediction/predict\", payload);\n      const {\n        prediction,\n        confidence\n      } = response.data;\n      if (confidence < 0.7) {\n        if (!isAuto) toast.error(\"Seña no clara\");\n        lastPredictionRef.current = null;\n        return;\n      }\n\n      // avoid repeating same prediction rapidly in auto mode\n      if (isAuto && prediction === lastPredictionRef.current) {\n        return;\n      }\n      lastPredictionRef.current = prediction;\n      processPrediction(prediction);\n    } catch (err) {\n      console.error(\"Error en predict:\", err);\n      if (!isAuto) toast.error(\"Error comunicando con el modelo\");\n    } finally {\n      setIsPredicting(false);\n    }\n  }, [selectedModelId, isPredicting, processPrediction]);\n\n  // auto recognition effect\n  useEffect(() => {\n    if (cameraActive && isAutoRecognizing) {\n      if (recognitionIntervalRef.current !== null) {\n        clearInterval(recognitionIntervalRef.current);\n      }\n      const id = window.setInterval(() => {\n        if (currentLandmarksRef.current) recognizeSign(true);\n      }, 650);\n      recognitionIntervalRef.current = id;\n      return () => {\n        if (recognitionIntervalRef.current !== null) {\n          clearInterval(recognitionIntervalRef.current);\n          recognitionIntervalRef.current = null;\n        }\n      };\n    } else {\n      if (recognitionIntervalRef.current !== null) {\n        clearInterval(recognitionIntervalRef.current);\n        recognitionIntervalRef.current = null;\n      }\n    }\n  }, [cameraActive, isAutoRecognizing, recognizeSign]);\n\n  // cleanup on unmount\n  useEffect(() => {\n    return () => {\n      stopCamera();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-4 gap-8 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"md:col-span-1 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-2xl shadow-xl p-5 ${isDarkMode ? \"bg-gray-800 border border-gray-700\" : \"bg-white border border-gray-200\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `font-extrabold text-xl mb-4 ${isDarkMode ? \"text-white\" : \"text-gray-900\"}`,\n          children: \"Controles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Selecciona un modelo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedModelId,\n            onChange: e => setSelectedModelId(e.target.value),\n            className: \"w-full px-4 py-2 border rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Elige un modelo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), models.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: model.id,\n              children: model.name || model.id\n            }, model.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          onClick: cameraActive ? stopCamera : startCamera,\n          disabled: isInitializing,\n          className: `w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 shadow-lg ${isInitializing ? \"bg-gray-500 cursor-not-allowed\" : cameraActive ? \"bg-red-600 hover:bg-red-700\" : \"bg-blue-600 hover:bg-blue-700\"}`,\n          children: [isInitializing ? /*#__PURE__*/_jsxDEV(RefreshIcon, {\n            className: \"animate-spin w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 31\n          }, this) : /*#__PURE__*/_jsxDEV(PowerIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 82\n          }, this), isInitializing ? \"Inicializando...\" : cameraActive ? \"Detener Cámara\" : \"Iniciar Cámara\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), cameraActive && /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          onClick: () => setIsAutoRecognizing(p => !p),\n          className: `mt-3 w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 shadow-lg ${isAutoRecognizing ? \"bg-purple-600 hover:bg-purple-700\" : \"bg-yellow-600 hover:bg-yellow-700\"}`,\n          children: [/*#__PURE__*/_jsxDEV(ZapIcon, {\n            className: `w-5 h-5 ${isAutoRecognizing ? \"animate-pulse\" : \"\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), isAutoRecognizing ? \"Reconocimiento Automático ON\" : \"Activar Reconocimiento\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), cameraActive && !isAutoRecognizing && /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          onClick: () => recognizeSign(false),\n          disabled: isPredicting || !handsDetected,\n          className: `mt-3 w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 ${isPredicting ? \"bg-indigo-400 cursor-wait\" : \"bg-indigo-600 hover:bg-indigo-700\"} disabled:opacity-50`,\n          children: [isPredicting ? /*#__PURE__*/_jsxDEV(RefreshIcon, {\n            className: \"animate-spin w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 31\n          }, this) : \"✋\", \"Reconocer Se\\xF1a (Manual)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), (calcState.num1 || calcState.operator || calcState.num2) && /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          onClick: resetCalculator,\n          className: \"mt-3 w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 bg-pink-600 hover:bg-pink-700 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), \"Limpiar Calculadora\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-2xl shadow-xl p-5 ${isDarkMode ? \"bg-gray-800 border border-gray-700\" : \"bg-white border border-gray-200\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `font-extrabold text-xl mb-2 ${isDarkMode ? \"text-white\" : \"text-gray-900\"}`,\n          children: \"Estado del Sistema\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"flex items-center gap-2 font-medium\",\n          children: handsDetected ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-500 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), \" Mano detectada\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-500 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(XIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), \" Esperando mano\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), isAutoRecognizing && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"flex items-center gap-2 mt-2 text-purple-500 font-medium\",\n          children: [/*#__PURE__*/_jsxDEV(ZapIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), \" Reconocimiento Autom\\xE1tico Activo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"md:col-span-3 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(motion.h2, {\n        initial: {\n          opacity: 0,\n          y: 10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: `text-3xl font-extrabold text-center ${isDarkMode ? \"text-blue-300\" : \"text-gray-800\"}`,\n        children: \"Calculadora con Lenguaje de Se\\xF1as\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-black rounded-2xl overflow-hidden shadow-2xl mx-auto max-w-2xl aspect-video\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          className: \"hidden\",\n          autoPlay: true,\n          muted: true,\n          playsInline: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: 640,\n          height: 480,\n          className: \"w-full h-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), !cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex flex-col items-center justify-center bg-gray-900/90 text-white p-4\",\n          children: [/*#__PURE__*/_jsxDEV(PowerIcon, {\n            className: \"w-10 h-10 mb-3 text-red-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium\",\n            children: \"Pulsa \\\"Iniciar C\\xE1mara\\\" para comenzar.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), isInitializing && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-gray-400 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshIcon, {\n              className: \"w-5 h-5 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 100\n            }, this), \" Cargando...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto p-4 rounded-2xl shadow-2xl space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-5 gap-4 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2\",\n            children: /*#__PURE__*/_jsxDEV(InputBlock, {\n              title: \"N\\xDAMERO 1\",\n              value: calcState.num1,\n              isActive: calcState.activeBlock === \"num1\",\n              dark: isDarkMode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1\",\n            children: /*#__PURE__*/_jsxDEV(InputBlock, {\n              title: \"SE\\xD1A\",\n              value: calcState.operator,\n              isActive: calcState.activeBlock === \"operator\",\n              dark: isDarkMode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2\",\n            children: /*#__PURE__*/_jsxDEV(InputBlock, {\n              title: \"N\\xDAMERO 2\",\n              value: calcState.num2,\n              isActive: calcState.activeBlock === \"num2\",\n              dark: isDarkMode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-full p-6 rounded-2xl shadow-inner transition-colors duration-300 ${isDarkMode ? \"bg-gray-800 border-2 border-indigo-600\" : \"bg-white border-2 border-indigo-400\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-right text-sm uppercase font-semibold ${isDarkMode ? \"text-indigo-400\" : \"text-indigo-600\"}`,\n            children: \"Resultado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-right text-6xl font-extrabold mt-1 transition-colors duration-300 ${isDarkMode ? \"text-white\" : \"text-gray-900\"}`,\n            children: /*#__PURE__*/_jsxDEV(motion.span, {\n              initial: {\n                y: 20,\n                opacity: 0\n              },\n              animate: {\n                y: 0,\n                opacity: 1\n              },\n              transition: {\n                duration: 0.3\n              },\n              children: calcState.result || \"0\"\n            }, calcState.result, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n};\n_s(SignLanguageCalculator, \"MfLuI/rDbU1UEXu6F+yuktpHTSY=\");\n_c2 = SignLanguageCalculator;\nexport default SignLanguageCalculator;\nvar _c, _c2;\n$RefreshReg$(_c, \"InputBlock\");\n$RefreshReg$(_c2, \"SignLanguageCalculator\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useMemo","motion","XCircle","XIcon","CheckCircle","CheckIcon","RefreshCw","RefreshIcon","Power","PowerIcon","Zap","ZapIcon","toast","api","createMediaPipeHandler","jsxDEV","_jsxDEV","safeEvaluateExpression","expr","sanitized","replace","val","Function","isFinite","String","InputBlock","title","value","isActive","dark","base","bg","border","text","titleColor","div","className","animate","scale","transition","type","stiffness","damping","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","SignLanguageCalculator","_s","videoRef","canvasRef","mpHandler","cameraActive","setCameraActive","isInitializing","setIsInitializing","handsDetected","setHandsDetected","isAutoRecognizing","setIsAutoRecognizing","isPredicting","setIsPredicting","calcState","setCalcState","num1","operator","num2","result","activeBlock","lastPredictionRef","currentLandmarksRef","recognitionIntervalRef","isDarkMode","document","body","classList","contains","models","setModels","selectedModelId","setSelectedModelId","get","then","res","data","catch","onResults","results","hasHands","multiHandLandmarks","length","chosen","multiHandedness","rightIndex","findIndex","h","_h$label","_h$label$toLowerCase","label","toLowerCase","call","current","map","l","x","y","z","startCamera","error","stop","ok","initialize","Error","success","err","console","stopCamera","clearInterval","resetCalculator","processPrediction","prediction","prev","isNaN","Number","includes","safe","recognizeSign","isAuto","payload","modelId","landmarks","response","post","confidence","id","window","setInterval","onChange","e","target","model","name","button","whileHover","whileTap","onClick","disabled","p","h2","initial","opacity","ref","autoPlay","muted","playsInline","width","height","span","duration","_c2","$RefreshReg$"],"sources":["C:/Users/gabo1/OneDrive/Escritorio/FinalProject/frontend/src/components/SignLanguageCalculator.tsx"],"sourcesContent":["// SignLanguageCalculator.tsx\r\nimport React, { useState, useRef, useEffect, useCallback, useMemo } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  XCircle as XIcon,\r\n  CheckCircle as CheckIcon,\r\n  RefreshCw as RefreshIcon,\r\n  Power as PowerIcon,\r\n  Zap as ZapIcon,\r\n} from \"lucide-react\";\r\nimport toast from \"react-hot-toast\";\r\nimport { Results } from \"@mediapipe/hands\";\r\nimport { api } from \"../utils/api\";\r\nimport { MediaPipeHandler, createMediaPipeHandler } from \"../utils/mediapipe\";\r\n\r\n/**\r\n * Safe evaluation (sanitizado)\r\n */\r\nconst safeEvaluateExpression = (expr: string): string => {\r\n  const sanitized = expr.replace(/[^0-9+\\-*/.]/g, \"\");\r\n  if (!sanitized) return \"0\";\r\n  try {\r\n    // eslint-disable-next-line no-new-func\r\n    const val = Function(`\"use strict\"; return (${sanitized});`)();\r\n    if (typeof val === \"number\" && isFinite(val)) return String(val);\r\n    return \"Error\";\r\n  } catch {\r\n    return \"Error\";\r\n  }\r\n};\r\n\r\ninterface CalculationState {\r\n  num1: string;\r\n  operator: string;\r\n  num2: string;\r\n  result: string;\r\n  activeBlock: \"num1\" | \"operator\" | \"num2\" | \"complete\";\r\n}\r\n\r\n/**\r\n * UI InputBlock\r\n */\r\nconst InputBlock: React.FC<{ title: string; value: string; isActive: boolean; dark?: boolean }> = ({ title, value, isActive, dark }) => {\r\n  const base = \"p-4 rounded-xl font-bold text-center border-2 transition-all duration-300 shadow-md\";\r\n  const bg = dark ? \"bg-gray-800\" : \"bg-white\";\r\n  const border = isActive ? \"border-indigo-400 ring-4 ring-indigo-500/30\" : dark ? \"border-gray-600\" : \"border-gray-300\";\r\n  const text = dark ? \"text-white\" : \"text-gray-900\";\r\n  const titleColor = dark ? \"text-gray-400\" : \"text-gray-600\";\r\n\r\n  return (\r\n    <motion.div\r\n      className={`${base} ${bg} ${border}`}\r\n      animate={{ scale: isActive ? 1.03 : 1 }}\r\n      transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\r\n    >\r\n      <p className={`text-sm uppercase tracking-wider ${titleColor}`}>{title}</p>\r\n      <div className={`text-3xl mt-1 ${text}`}>{value || (isActive ? \"✋\" : \"—\")}</div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n/**\r\n * Component\r\n */\r\nconst SignLanguageCalculator: React.FC = () => {\r\n  const videoRef = useRef<HTMLVideoElement | null>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n  const mpHandler = useRef<MediaPipeHandler | null>(null);\r\n\r\n  const [cameraActive, setCameraActive] = useState(false);\r\n  const [isInitializing, setIsInitializing] = useState(false);\r\n  const [handsDetected, setHandsDetected] = useState(false);\r\n  const [isAutoRecognizing, setIsAutoRecognizing] = useState(true);\r\n  const [isPredicting, setIsPredicting] = useState(false);\r\n\r\n  const [calcState, setCalcState] = useState<CalculationState>({\r\n    num1: \"\",\r\n    operator: \"\",\r\n    num2: \"\",\r\n    result: \"\",\r\n    activeBlock: \"num1\",\r\n  });\r\n\r\n  const lastPredictionRef = useRef<string | null>(null);\r\n  const currentLandmarksRef = useRef<any[] | null>(null);\r\n  const recognitionIntervalRef = useRef<number | null>(null);\r\n\r\n  const isDarkMode = useMemo(() => document.body.classList.contains(\"dark\"), []);\r\n\r\n  // MODELOS\r\n  const [models, setModels] = useState<any[]>([]);\r\n  const [selectedModelId, setSelectedModelId] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    api.get(\"/models\")\r\n      .then(res => setModels(res.data))\r\n      .catch(() => setModels([]));\r\n  }, []);\r\n\r\n  // MediaPipe results callback (support for up to 2 hands)\r\n  const onResults = useCallback((results: Results) => {\r\n    const hasHands = !!(results.multiHandLandmarks && results.multiHandLandmarks.length > 0);\r\n    setHandsDetected(hasHands);\r\n\r\n    // Prefer right hand if both present; otherwise first one\r\n    if (hasHands) {\r\n      let chosen = results.multiHandLandmarks[0];\r\n      if (results.multiHandedness && results.multiHandedness.length > 0) {\r\n        const rightIndex = results.multiHandedness.findIndex((h: any) => h.label?.toLowerCase?.() === \"right\");\r\n        if (rightIndex >= 0 && results.multiHandLandmarks[rightIndex]) {\r\n          chosen = results.multiHandLandmarks[rightIndex];\r\n        }\r\n      }\r\n      if (chosen && chosen.length === 21) {\r\n        currentLandmarksRef.current = chosen.map((l: any) => ({ x: l.x, y: l.y, z: l.z }));\r\n      } else {\r\n        currentLandmarksRef.current = null;\r\n      }\r\n    } else {\r\n      currentLandmarksRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  // start / stop camera\r\n  const startCamera = useCallback(async () => {\r\n    if (!videoRef.current || !canvasRef.current) {\r\n      toast.error(\"No se encontró video/canvas\");\r\n      return;\r\n    }\r\n    setIsInitializing(true);\r\n    try {\r\n      if (mpHandler.current) mpHandler.current.stop();\r\n      mpHandler.current = createMediaPipeHandler();\r\n      const ok = await mpHandler.current.initialize(videoRef.current, canvasRef.current, onResults);\r\n      if (!ok) throw new Error(\"Error inicializando MediaPipe\");\r\n      setCameraActive(true);\r\n      setIsAutoRecognizing(true);\r\n      toast.success(\"Cámara iniciada\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"No se pudo iniciar la cámara\");\r\n    } finally {\r\n      setIsInitializing(false);\r\n    }\r\n  }, [onResults]);\r\n\r\n  const stopCamera = useCallback(() => {\r\n    if (mpHandler.current) mpHandler.current.stop();\r\n    setCameraActive(false);\r\n    setIsAutoRecognizing(false);\r\n    setHandsDetected(false);\r\n    currentLandmarksRef.current = null;\r\n    lastPredictionRef.current = null;\r\n    if (recognitionIntervalRef.current !== null) {\r\n      clearInterval(recognitionIntervalRef.current);\r\n      recognitionIntervalRef.current = null;\r\n    }\r\n    toast.success(\"Cámara detenida\");\r\n  }, []);\r\n\r\n  // reset calculator state\r\n  const resetCalculator = useCallback(() => {\r\n    setCalcState({ num1: \"\", operator: \"\", num2: \"\", result: \"\", activeBlock: \"num1\" });\r\n  }, []);\r\n\r\n  // process prediction into calculation state\r\n  const processPrediction = useCallback((prediction: string) => {\r\n    setCalcState((prev) => {\r\n      // clear instruction\r\n      if (prediction === \"clear\") {\r\n        return { num1: \"\", operator: \"\", num2: \"\", result: \"\", activeBlock: \"num1\" };\r\n      }\r\n\r\n      // numeric\r\n      if (!isNaN(Number(prediction))) {\r\n        if (prev.activeBlock === \"num1\") {\r\n          // append digit to num1 and move to operator\r\n          return { ...prev, num1: prev.num1 + prediction, activeBlock: \"operator\" };\r\n        }\r\n        if (prev.activeBlock === \"num2\") {\r\n          // append digit to num2 and mark complete\r\n          return { ...prev, num2: prev.num2 + prediction, activeBlock: \"complete\" };\r\n        }\r\n        // if operator waiting, ignore digit (user should supply operator first)\r\n        return prev;\r\n      }\r\n\r\n      // operator\r\n      if ([\"+\", \"-\", \"*\", \"/\"].includes(prediction)) {\r\n        if (prev.num1 && prev.activeBlock === \"operator\") {\r\n          return { ...prev, operator: prediction, activeBlock: \"num2\" };\r\n        }\r\n        return prev;\r\n      }\r\n\r\n      // equal\r\n      if (prediction === \"equal\") {\r\n        if (prev.num1 && prev.operator && prev.num2) {\r\n          const expr = `${prev.num1}${prev.operator}${prev.num2}`;\r\n          const safe = safeEvaluateExpression(expr);\r\n          if (safe === \"Error\") {\r\n            toast.error(\"Expresión inválida\");\r\n            return { ...prev, result: \"Error\" };\r\n          }\r\n          // move result to num1 to allow chaining\r\n          return { num1: safe, operator: \"\", num2: \"\", result: safe, activeBlock: \"operator\" };\r\n        }\r\n        toast.error(\"Faltan valores para calcular\");\r\n        return prev;\r\n      }\r\n\r\n      return prev;\r\n    });\r\n  }, []);\r\n\r\n  // recognition function\r\n  const recognizeSign = useCallback(\r\n    async (isAuto = false) => {\r\n      if (!currentLandmarksRef.current) {\r\n        if (!isAuto) toast.error(\"No se detecta la mano\");\r\n        return;\r\n      }\r\n      if (isPredicting) return;\r\n      if (!selectedModelId) {\r\n        toast.error(\"Selecciona un modelo primero\");\r\n        return;\r\n      }\r\n      setIsPredicting(true);\r\n\r\n      try {\r\n        const payload = {\r\n          modelId: selectedModelId,\r\n          landmarks: currentLandmarksRef.current,\r\n        };\r\n\r\n        const response = await api.post(\"/prediction/predict\", payload);\r\n        const { prediction, confidence } = response.data;\r\n\r\n        if (confidence < 0.7) {\r\n          if (!isAuto) toast.error(\"Seña no clara\");\r\n          lastPredictionRef.current = null;\r\n          return;\r\n        }\r\n\r\n        // avoid repeating same prediction rapidly in auto mode\r\n        if (isAuto && prediction === lastPredictionRef.current) {\r\n          return;\r\n        }\r\n        lastPredictionRef.current = prediction;\r\n\r\n        processPrediction(prediction);\r\n      } catch (err) {\r\n        console.error(\"Error en predict:\", err);\r\n        if (!isAuto) toast.error(\"Error comunicando con el modelo\");\r\n      } finally {\r\n        setIsPredicting(false);\r\n      }\r\n    },\r\n    [selectedModelId, isPredicting, processPrediction]\r\n  );\r\n\r\n  // auto recognition effect\r\n  useEffect(() => {\r\n    if (cameraActive && isAutoRecognizing) {\r\n      if (recognitionIntervalRef.current !== null) {\r\n        clearInterval(recognitionIntervalRef.current);\r\n      }\r\n      const id = window.setInterval(() => {\r\n        if (currentLandmarksRef.current) recognizeSign(true);\r\n      }, 650);\r\n      recognitionIntervalRef.current = id as unknown as number;\r\n      return () => {\r\n        if (recognitionIntervalRef.current !== null) {\r\n          clearInterval(recognitionIntervalRef.current);\r\n          recognitionIntervalRef.current = null;\r\n        }\r\n      };\r\n    } else {\r\n      if (recognitionIntervalRef.current !== null) {\r\n        clearInterval(recognitionIntervalRef.current);\r\n        recognitionIntervalRef.current = null;\r\n      }\r\n    }\r\n  }, [cameraActive, isAutoRecognizing, recognizeSign]);\r\n\r\n  // cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      stopCamera();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 p-4\">\r\n      {/* SIDEBAR */}\r\n      <aside className=\"md:col-span-1 space-y-6\">\r\n        <div className={`rounded-2xl shadow-xl p-5 ${isDarkMode ? \"bg-gray-800 border border-gray-700\" : \"bg-white border border-gray-200\"}`}>\r\n          <h3 className={`font-extrabold text-xl mb-4 ${isDarkMode ? \"text-white\" : \"text-gray-900\"}`}>Controles</h3>\r\n\r\n          {/* Selector de modelo */}\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Selecciona un modelo</label>\r\n            <select\r\n              value={selectedModelId}\r\n              onChange={e => setSelectedModelId(e.target.value)}\r\n              className=\"w-full px-4 py-2 border rounded\"\r\n            >\r\n              <option value=\"\">Elige un modelo</option>\r\n              {models.map(model => (\r\n                <option key={model.id} value={model.id}>{model.name || model.id}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            onClick={cameraActive ? stopCamera : startCamera}\r\n            disabled={isInitializing}\r\n            className={`w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 shadow-lg ${\r\n              isInitializing ? \"bg-gray-500 cursor-not-allowed\" : cameraActive ? \"bg-red-600 hover:bg-red-700\" : \"bg-blue-600 hover:bg-blue-700\"\r\n            }`}\r\n          >\r\n            {isInitializing ? <RefreshIcon className=\"animate-spin w-5 h-5\" /> : <PowerIcon className=\"w-5 h-5\" />}\r\n            {isInitializing ? \"Inicializando...\" : cameraActive ? \"Detener Cámara\" : \"Iniciar Cámara\"}\r\n          </motion.button>\r\n\r\n          {cameraActive && (\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={() => setIsAutoRecognizing((p) => !p)}\r\n              className={`mt-3 w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 shadow-lg ${\r\n                isAutoRecognizing ? \"bg-purple-600 hover:bg-purple-700\" : \"bg-yellow-600 hover:bg-yellow-700\"\r\n              }`}\r\n            >\r\n              <ZapIcon className={`w-5 h-5 ${isAutoRecognizing ? \"animate-pulse\" : \"\"}`} />\r\n              {isAutoRecognizing ? \"Reconocimiento Automático ON\" : \"Activar Reconocimiento\"}\r\n            </motion.button>\r\n          )}\r\n\r\n          {cameraActive && !isAutoRecognizing && (\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={() => recognizeSign(false)}\r\n              disabled={isPredicting || !handsDetected}\r\n              className={`mt-3 w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 ${\r\n                isPredicting ? \"bg-indigo-400 cursor-wait\" : \"bg-indigo-600 hover:bg-indigo-700\"\r\n              } disabled:opacity-50`}\r\n            >\r\n              {isPredicting ? <RefreshIcon className=\"animate-spin w-5 h-5\" /> : \"✋\"}\r\n              Reconocer Seña (Manual)\r\n            </motion.button>\r\n          )}\r\n\r\n          {(calcState.num1 || calcState.operator || calcState.num2) && (\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={resetCalculator}\r\n              className=\"mt-3 w-full px-4 py-3 rounded-xl font-bold text-white transition-all duration-300 flex items-center justify-center gap-2 bg-pink-600 hover:bg-pink-700 shadow-lg\"\r\n            >\r\n              <RefreshIcon className=\"w-5 h-5\" />\r\n              Limpiar Calculadora\r\n            </motion.button>\r\n          )}\r\n        </div>\r\n\r\n        <div className={`rounded-2xl shadow-xl p-5 ${isDarkMode ? \"bg-gray-800 border border-gray-700\" : \"bg-white border border-gray-200\"}`}>\r\n          <h3 className={`font-extrabold text-xl mb-2 ${isDarkMode ? \"text-white\" : \"text-gray-900\"}`}>Estado del Sistema</h3>\r\n          <p className=\"flex items-center gap-2 font-medium\">\r\n            {handsDetected ? (\r\n              <span className=\"text-green-500 flex items-center gap-2\">\r\n                <CheckIcon className=\"w-5 h-5\" /> Mano detectada\r\n              </span>\r\n            ) : (\r\n              <span className=\"text-red-500 flex items-center gap-2\">\r\n                <XIcon className=\"w-5 h-5\" /> Esperando mano\r\n              </span>\r\n            )}\r\n          </p>\r\n          {isAutoRecognizing && (\r\n            <p className=\"flex items-center gap-2 mt-2 text-purple-500 font-medium\">\r\n              <ZapIcon className=\"w-5 h-5\" /> Reconocimiento Automático Activo\r\n            </p>\r\n          )}\r\n        </div>\r\n      </aside>\r\n\r\n      {/* MAIN */}\r\n      <section className=\"md:col-span-3 space-y-6\">\r\n        <motion.h2 initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} className={`text-3xl font-extrabold text-center ${isDarkMode ? \"text-blue-300\" : \"text-gray-800\"}`}>\r\n          Calculadora con Lenguaje de Señas\r\n        </motion.h2>\r\n\r\n        <div className=\"relative bg-black rounded-2xl overflow-hidden shadow-2xl mx-auto max-w-2xl aspect-video\">\r\n          <video ref={videoRef as any} className=\"hidden\" autoPlay muted playsInline />\r\n          <canvas ref={canvasRef as any} width={640} height={480} className=\"w-full h-full object-cover\" />\r\n          {!cameraActive && (\r\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-gray-900/90 text-white p-4\">\r\n              <PowerIcon className=\"w-10 h-10 mb-3 text-red-400\" />\r\n              <p className=\"text-lg font-medium\">Pulsa \"Iniciar Cámara\" para comenzar.</p>\r\n              {isInitializing && <p className=\"mt-2 text-sm text-gray-400 flex items-center gap-2\"><RefreshIcon className=\"w-5 h-5 animate-spin\" /> Cargando...</p>}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"max-w-2xl mx-auto p-4 rounded-2xl shadow-2xl space-y-6\">\r\n          <div className=\"grid grid-cols-5 gap-4 items-center\">\r\n            <div className=\"col-span-2\">\r\n              <InputBlock title=\"NÚMERO 1\" value={calcState.num1} isActive={calcState.activeBlock === \"num1\"} dark={isDarkMode} />\r\n            </div>\r\n            <div className=\"col-span-1\">\r\n              <InputBlock title=\"SEÑA\" value={calcState.operator} isActive={calcState.activeBlock === \"operator\"} dark={isDarkMode} />\r\n            </div>\r\n            <div className=\"col-span-2\">\r\n              <InputBlock title=\"NÚMERO 2\" value={calcState.num2} isActive={calcState.activeBlock === \"num2\"} dark={isDarkMode} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`w-full p-6 rounded-2xl shadow-inner transition-colors duration-300 ${isDarkMode ? \"bg-gray-800 border-2 border-indigo-600\" : \"bg-white border-2 border-indigo-400\"}`}>\r\n            <p className={`text-right text-sm uppercase font-semibold ${isDarkMode ? \"text-indigo-400\" : \"text-indigo-600\"}`}>Resultado</p>\r\n            <div className={`text-right text-6xl font-extrabold mt-1 transition-colors duration-300 ${isDarkMode ? \"text-white\" : \"text-gray-900\"}`}>\r\n              <motion.span key={calcState.result} initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ duration: 0.3 }}>\r\n                {calcState.result || \"0\"}\r\n              </motion.span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignLanguageCalculator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}