{"ast":null,"code":"import { Hands } from '@mediapipe/hands';\nexport class MediaPipeHandler {\n  constructor() {\n    this.hands = null;\n    this.camera = null;\n    this.videoElement = null;\n    this.canvasElement = null;\n    this.onResultsCallback = null;\n    this.stream = null;\n    this.animationId = null;\n  }\n  async initialize(videoElement, canvasElement, onResults) {\n    try {\n      this.videoElement = videoElement;\n      this.canvasElement = canvasElement;\n      this.onResultsCallback = onResults;\n      console.log('Inicializando MediaPipe...');\n      this.hands = new Hands({\n        locateFile: file => {\n          return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\n        }\n      });\n      this.hands.setOptions({\n        maxNumHands: 2,\n        // ðŸ‘ˆ ahora soporta dos manos\n        modelComplexity: 1,\n        minDetectionConfidence: 0.8,\n        minTrackingConfidence: 0.7\n      });\n      this.hands.onResults(results => {\n        this.handleResults(results);\n      });\n      await this.startCamera();\n      console.log('MediaPipe inicializado correctamente (dos manos)');\n      return true;\n    } catch (error) {\n      console.error('Error initializing MediaPipe:', error);\n      return false;\n    }\n  }\n  async startCamera() {\n    if (!this.videoElement || !this.hands) return;\n    try {\n      console.log('Iniciando cÃ¡mara...');\n      this.stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 640\n          },\n          height: {\n            ideal: 480\n          },\n          facingMode: 'user'\n        }\n      });\n      this.videoElement.srcObject = this.stream;\n      return new Promise((resolve, reject) => {\n        if (!this.videoElement) {\n          reject(new Error('Video element not available'));\n          return;\n        }\n        this.videoElement.onloadedmetadata = () => {\n          if (!this.videoElement || !this.hands) {\n            reject(new Error('Required elements not available'));\n            return;\n          }\n          this.videoElement.play().then(() => {\n            if (this.canvasElement && this.videoElement) {\n              this.canvasElement.width = this.videoElement.videoWidth || 640;\n              this.canvasElement.height = this.videoElement.videoHeight || 480;\n            }\n            console.log('Video cargado, iniciando procesamiento...');\n            this.startProcessing();\n            resolve();\n          }).catch(reject);\n        };\n        this.videoElement.onerror = () => {\n          reject(new Error('Error loading video'));\n        };\n      });\n    } catch (error) {\n      console.error('Error starting camera:', error);\n      throw error;\n    }\n  }\n  startProcessing() {\n    const processFrame = async () => {\n      if (this.hands && this.videoElement && this.videoElement.readyState === 4) {\n        try {\n          await this.hands.send({\n            image: this.videoElement\n          });\n        } catch (error) {\n          console.error('Error processing frame:', error);\n        }\n      }\n      if (this.hands) {\n        this.animationId = requestAnimationFrame(processFrame);\n      }\n    };\n    processFrame();\n  }\n  handleResults(results) {\n    if (!this.canvasElement || !this.onResultsCallback) return;\n    const ctx = this.canvasElement.getContext('2d');\n    if (!ctx) return;\n    ctx.save();\n    ctx.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n    if (this.videoElement) {\n      ctx.drawImage(this.videoElement, 0, 0, this.canvasElement.width, this.canvasElement.height);\n    }\n\n    // ðŸ‘‡ soporta mÃºltiples manos\n    if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\n      results.multiHandLandmarks.forEach((landmarks, i) => {\n        var _results$multiHandedn, _results$multiHandedn2;\n        const handedness = ((_results$multiHandedn = results.multiHandedness) === null || _results$multiHandedn === void 0 ? void 0 : (_results$multiHandedn2 = _results$multiHandedn[i]) === null || _results$multiHandedn2 === void 0 ? void 0 : _results$multiHandedn2.label) || \"Desconocida\";\n        console.log(`Mano detectada: ${handedness}`);\n        this.drawLandmarks(ctx, landmarks, handedness);\n      });\n    }\n    ctx.restore();\n    if (this.onResultsCallback) {\n      this.onResultsCallback(results);\n    }\n  }\n  drawLandmarks(ctx, landmarks, handedness) {\n    const connections = [[0, 1], [1, 2], [2, 3], [3, 4], [0, 5], [5, 6], [6, 7], [7, 8], [5, 9], [9, 10], [10, 11], [11, 12], [9, 13], [13, 14], [14, 15], [15, 16], [13, 17], [17, 18], [18, 19], [19, 20], [0, 17]];\n\n    // ðŸ‘‡ cada mano tiene color distinto\n    ctx.strokeStyle = handedness === \"Left\" ? '#00FF00' : '#0000FF';\n    ctx.lineWidth = 3;\n    connections.forEach(([start, end]) => {\n      const startPoint = landmarks[start];\n      const endPoint = landmarks[end];\n      ctx.beginPath();\n      ctx.moveTo(startPoint.x * ctx.canvas.width, startPoint.y * ctx.canvas.height);\n      ctx.lineTo(endPoint.x * ctx.canvas.width, endPoint.y * ctx.canvas.height);\n      ctx.stroke();\n    });\n    ctx.fillStyle = handedness === \"Left\" ? '#FF0000' : '#FFA500';\n    landmarks.forEach(landmark => {\n      const x = landmark.x * ctx.canvas.width;\n      const y = landmark.y * ctx.canvas.height;\n      ctx.beginPath();\n      ctx.arc(x, y, 5, 0, 2 * Math.PI);\n      ctx.fill();\n    });\n  }\n  stop() {\n    console.log('Deteniendo MediaPipe...');\n    if (this.animationId) {\n      cancelAnimationFrame(this.animationId);\n      this.animationId = null;\n    }\n    if (this.hands) {\n      this.hands.close();\n      this.hands = null;\n    }\n    if (this.stream) {\n      const tracks = this.stream.getTracks();\n      tracks.forEach(track => track.stop());\n      this.stream = null;\n    }\n    if (this.videoElement) {\n      this.videoElement.srcObject = null;\n    }\n  }\n  isInitialized() {\n    return this.hands !== null;\n  }\n}\nexport const createMediaPipeHandler = () => {\n  return new MediaPipeHandler();\n};","map":{"version":3,"names":["Hands","MediaPipeHandler","constructor","hands","camera","videoElement","canvasElement","onResultsCallback","stream","animationId","initialize","onResults","console","log","locateFile","file","setOptions","maxNumHands","modelComplexity","minDetectionConfidence","minTrackingConfidence","results","handleResults","startCamera","error","navigator","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","srcObject","Promise","resolve","reject","Error","onloadedmetadata","play","then","videoWidth","videoHeight","startProcessing","catch","onerror","processFrame","readyState","send","image","requestAnimationFrame","ctx","getContext","save","clearRect","drawImage","multiHandLandmarks","length","forEach","landmarks","i","_results$multiHandedn","_results$multiHandedn2","handedness","multiHandedness","label","drawLandmarks","restore","connections","strokeStyle","lineWidth","start","end","startPoint","endPoint","beginPath","moveTo","x","canvas","y","lineTo","stroke","fillStyle","landmark","arc","Math","PI","fill","stop","cancelAnimationFrame","close","tracks","getTracks","track","isInitialized","createMediaPipeHandler"],"sources":["C:/Users/quisp/Desktop/FinalProject/frontend/src/utils/mediapipe.ts"],"sourcesContent":["import { Hands, Results } from '@mediapipe/hands';\r\nimport { Camera } from '@mediapipe/camera_utils';\r\n\r\nexport class MediaPipeHandler {\r\n  private hands: Hands | null = null;\r\n  private camera: Camera | null = null;\r\n  private videoElement: HTMLVideoElement | null = null;\r\n  private canvasElement: HTMLCanvasElement | null = null;\r\n  private onResultsCallback: ((results: Results) => void) | null = null;\r\n  private stream: MediaStream | null = null;\r\n  private animationId: number | null = null;\r\n\r\n  async initialize(\r\n    videoElement: HTMLVideoElement,\r\n    canvasElement: HTMLCanvasElement,\r\n    onResults: (results: Results) => void\r\n  ): Promise<boolean> {\r\n    try {\r\n      this.videoElement = videoElement;\r\n      this.canvasElement = canvasElement;\r\n      this.onResultsCallback = onResults;\r\n\r\n      console.log('Inicializando MediaPipe...');\r\n\r\n      this.hands = new Hands({\r\n        locateFile: (file: string) => {\r\n          return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\r\n        }\r\n      });\r\n\r\n      this.hands.setOptions({\r\n        maxNumHands: 2, // ðŸ‘ˆ ahora soporta dos manos\r\n        modelComplexity: 1,\r\n        minDetectionConfidence: 0.8,\r\n        minTrackingConfidence: 0.7\r\n      });\r\n\r\n      this.hands.onResults((results: Results) => {\r\n        this.handleResults(results);\r\n      });\r\n\r\n      await this.startCamera();\r\n\r\n      console.log('MediaPipe inicializado correctamente (dos manos)');\r\n      return true;\r\n\r\n    } catch (error) {\r\n      console.error('Error initializing MediaPipe:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private async startCamera(): Promise<void> {\r\n    if (!this.videoElement || !this.hands) return;\r\n\r\n    try {\r\n      console.log('Iniciando cÃ¡mara...');\r\n     \r\n      this.stream = await navigator.mediaDevices.getUserMedia({\r\n        video: {\r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 },\r\n          facingMode: 'user'\r\n        }\r\n      });\r\n\r\n      this.videoElement.srcObject = this.stream;\r\n\r\n      return new Promise((resolve, reject) => {\r\n        if (!this.videoElement) {\r\n          reject(new Error('Video element not available'));\r\n          return;\r\n        }\r\n\r\n        this.videoElement.onloadedmetadata = () => {\r\n          if (!this.videoElement || !this.hands) {\r\n            reject(new Error('Required elements not available'));\r\n            return;\r\n          }\r\n\r\n          this.videoElement.play().then(() => {\r\n            if (this.canvasElement && this.videoElement) {\r\n              this.canvasElement.width = this.videoElement.videoWidth || 640;\r\n              this.canvasElement.height = this.videoElement.videoHeight || 480;\r\n            }\r\n\r\n            console.log('Video cargado, iniciando procesamiento...');\r\n            this.startProcessing();\r\n            resolve();\r\n          }).catch(reject);\r\n        };\r\n\r\n        this.videoElement.onerror = () => {\r\n          reject(new Error('Error loading video'));\r\n        };\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error starting camera:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  private startProcessing(): void {\r\n    const processFrame = async () => {\r\n      if (this.hands && this.videoElement && this.videoElement.readyState === 4) {\r\n        try {\r\n          await this.hands.send({ image: this.videoElement });\r\n        } catch (error) {\r\n          console.error('Error processing frame:', error);\r\n        }\r\n      }\r\n     \r\n      if (this.hands) {\r\n        this.animationId = requestAnimationFrame(processFrame);\r\n      }\r\n    };\r\n\r\n    processFrame();\r\n  }\r\n\r\n  private handleResults(results: Results): void {\r\n    if (!this.canvasElement || !this.onResultsCallback) return;\r\n\r\n    const ctx = this.canvasElement.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    ctx.save();\r\n    ctx.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\r\n\r\n    if (this.videoElement) {\r\n      ctx.drawImage(this.videoElement, 0, 0, this.canvasElement.width, this.canvasElement.height);\r\n    }\r\n\r\n    // ðŸ‘‡ soporta mÃºltiples manos\r\n    if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {\r\n      results.multiHandLandmarks.forEach((landmarks, i) => {\r\n        const handedness = results.multiHandedness?.[i]?.label || \"Desconocida\";\r\n        console.log(`Mano detectada: ${handedness}`);\r\n        this.drawLandmarks(ctx, landmarks, handedness);\r\n      });\r\n    }\r\n\r\n    ctx.restore();\r\n\r\n    if (this.onResultsCallback) {\r\n      this.onResultsCallback(results);\r\n    }\r\n  }\r\n\r\n  private drawLandmarks(ctx: CanvasRenderingContext2D, landmarks: any[], handedness: string): void {\r\n    const connections = [\r\n      [0, 1], [1, 2], [2, 3], [3, 4],\r\n      [0, 5], [5, 6], [6, 7], [7, 8],\r\n      [5, 9], [9, 10], [10, 11], [11, 12],\r\n      [9, 13], [13, 14], [14, 15], [15, 16],\r\n      [13, 17], [17, 18], [18, 19], [19, 20],\r\n      [0, 17]\r\n    ];\r\n\r\n    // ðŸ‘‡ cada mano tiene color distinto\r\n    ctx.strokeStyle = handedness === \"Left\" ? '#00FF00' : '#0000FF';\r\n    ctx.lineWidth = 3;\r\n\r\n    connections.forEach(([start, end]) => {\r\n      const startPoint = landmarks[start];\r\n      const endPoint = landmarks[end];\r\n      ctx.beginPath();\r\n      ctx.moveTo(startPoint.x * ctx.canvas.width, startPoint.y * ctx.canvas.height);\r\n      ctx.lineTo(endPoint.x * ctx.canvas.width, endPoint.y * ctx.canvas.height);\r\n      ctx.stroke();\r\n    });\r\n\r\n    ctx.fillStyle = handedness === \"Left\" ? '#FF0000' : '#FFA500';\r\n    landmarks.forEach((landmark) => {\r\n      const x = landmark.x * ctx.canvas.width;\r\n      const y = landmark.y * ctx.canvas.height;\r\n      ctx.beginPath();\r\n      ctx.arc(x, y, 5, 0, 2 * Math.PI);\r\n      ctx.fill();\r\n    });\r\n  }\r\n\r\n  stop(): void {\r\n    console.log('Deteniendo MediaPipe...');\r\n   \r\n    if (this.animationId) {\r\n      cancelAnimationFrame(this.animationId);\r\n      this.animationId = null;\r\n    }\r\n\r\n    if (this.hands) {\r\n      this.hands.close();\r\n      this.hands = null;\r\n    }\r\n\r\n    if (this.stream) {\r\n      const tracks = this.stream.getTracks();\r\n      tracks.forEach(track => track.stop());\r\n      this.stream = null;\r\n    }\r\n\r\n    if (this.videoElement) {\r\n      this.videoElement.srcObject = null;\r\n    }\r\n  }\r\n\r\n  isInitialized(): boolean {\r\n    return this.hands !== null;\r\n  }\r\n}\r\n\r\nexport const createMediaPipeHandler = (): MediaPipeHandler => {\r\n  return new MediaPipeHandler();\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}