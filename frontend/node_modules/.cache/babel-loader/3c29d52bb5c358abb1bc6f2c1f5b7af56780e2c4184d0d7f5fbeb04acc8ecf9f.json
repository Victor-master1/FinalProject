{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\quisp\\\\Desktop\\\\FinalProject\\\\frontend\\\\src\\\\components\\\\SignLearning.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FiBook, FiCheck, FiX, FiTrendingUp, FiTarget, FiAward, FiEye, FiZap, FiRefreshCw, FiUser, FiCamera, FiCameraOff } from 'react-icons/fi';\nimport toast from 'react-hot-toast';\nimport { api } from '../utils/api';\nimport { createMediaPipeHandler } from '../utils/mediapipe';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SignLearning = ({\n  models\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const mediaPipeHandler = useRef(null);\n  const currentLandmarksRef = useRef(null);\n  const practiceIntervalRef = useRef(null);\n  const [selectedModel, setSelectedModel] = useState('');\n  const [learningStats, setLearningStats] = useState(null);\n  const [currentSign, setCurrentSign] = useState('');\n  const [showQuiz, setShowQuiz] = useState(false);\n  const [quizOptions, setQuizOptions] = useState([]);\n  const [correctAnswer, setCorrectAnswer] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [studyMode, setStudyMode] = useState('learn');\n  const [sessionTime, setSessionTime] = useState(0);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [handsDetected, setHandsDetected] = useState(false);\n  const [practiceResult, setPracticeResult] = useState(null);\n  const [practiceAttempts, setPracticeAttempts] = useState(0);\n  const [practiceSuccess, setPracticeSuccess] = useState(0);\n  const [practiceConfidence, setPracticeConfidence] = useState(0);\n  const [practiceInProgress, setPracticeInProgress] = useState(false);\n  useEffect(() => {\n    let interval;\n    if (selectedModel && studyMode !== 'review') {\n      interval = setInterval(() => {\n        setSessionTime(prev => prev + 1);\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [selectedModel, studyMode]);\n  useEffect(() => {\n    if (selectedModel) {\n      loadLearningStats();\n    }\n    loadLeaderboard();\n  }, [selectedModel]);\n  useEffect(() => {\n    return () => {\n      if (mediaPipeHandler.current) {\n        mediaPipeHandler.current.stop();\n      }\n      if (practiceIntervalRef.current) {\n        clearInterval(practiceIntervalRef.current);\n      }\n    };\n  }, []);\n  const onResults = useCallback(results => {\n    const hasHands = results.multiHandLandmarks && results.multiHandLandmarks.length > 0;\n    setHandsDetected(hasHands);\n    if (hasHands) {\n      const landmarks = results.multiHandLandmarks[0];\n      if (landmarks && landmarks.length === 21) {\n        currentLandmarksRef.current = landmarks;\n      }\n    } else {\n      currentLandmarksRef.current = null;\n    }\n  }, []);\n  const checkPracticeSign = useCallback(async () => {\n    if (!practiceInProgress || !selectedModel || !currentSign || !currentLandmarksRef.current) {\n      return;\n    }\n    try {\n      const response = await api.post('/prediction/predict', {\n        modelId: selectedModel,\n        landmarks: currentLandmarksRef.current.map(l => ({\n          x: l.x,\n          y: l.y,\n          z: l.z\n        }))\n      });\n      const {\n        prediction,\n        confidence\n      } = response.data;\n      setPracticeConfidence(confidence);\n      if (prediction === currentSign && confidence >= 0.7) {\n        setPracticeResult({\n          success: true,\n          prediction,\n          confidence,\n          message: '¡Excelente! Estás haciendo la seña correctamente'\n        });\n        setPracticeSuccess(prev => prev + 1);\n        setTimeout(() => {\n          setPracticeResult(null);\n        }, 2000);\n      } else if (confidence >= 0.5) {\n        setPracticeResult({\n          success: false,\n          prediction,\n          confidence,\n          message: `Detecté \"${prediction}\" pero esperaba \"${currentSign}\". Intenta de nuevo`\n        });\n      } else {\n        setPracticeResult({\n          success: false,\n          prediction: 'INCIERTO',\n          confidence,\n          message: 'No puedo reconocer la seña claramente. Asegúrate de que tu mano esté bien visible'\n        });\n      }\n      setPracticeAttempts(prev => prev + 1);\n    } catch (error) {\n      console.error('Error checking practice sign:', error);\n    }\n  }, [practiceInProgress, selectedModel, currentSign]);\n  useEffect(() => {\n    if (practiceInProgress && studyMode === 'practice') {\n      practiceIntervalRef.current = setInterval(checkPracticeSign, 1000);\n    } else if (practiceIntervalRef.current) {\n      clearInterval(practiceIntervalRef.current);\n      practiceIntervalRef.current = null;\n    }\n    return () => {\n      if (practiceIntervalRef.current) {\n        clearInterval(practiceIntervalRef.current);\n        practiceIntervalRef.current = null;\n      }\n    };\n  }, [practiceInProgress, studyMode, checkPracticeSign]);\n  const loadLearningStats = async () => {\n    if (!selectedModel) return;\n    setLoading(true);\n    try {\n      const response = await api.get(`/learning/stats/${selectedModel}`);\n      setLearningStats(response.data);\n    } catch (error) {\n      console.error('Error loading learning stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadLeaderboard = async () => {\n    try {\n      const response = await api.get('/learning/leaderboard');\n      setLeaderboard(response.data);\n    } catch (error) {\n      console.error('Error loading leaderboard:', error);\n    }\n  };\n  const updateProgress = async (sign, action, correct, time) => {\n    try {\n      await api.post('/learning/progress', {\n        modelId: selectedModel,\n        sign,\n        action,\n        correct,\n        time\n      });\n      await loadLearningStats();\n    } catch (error) {\n      console.error('Error updating progress:', error);\n    }\n  };\n  const startCamera = async () => {\n    console.log('Intentando iniciar cámara...');\n    console.log('videoRef.current:', videoRef.current);\n    console.log('canvasRef.current:', canvasRef.current);\n    if (!videoRef.current || !canvasRef.current) {\n      console.error('Referencias de video no disponibles');\n      toast.error('Error: No se encontraron los elementos de video. Recarga la página.');\n      return;\n    }\n    setIsInitializing(true);\n    try {\n      if (mediaPipeHandler.current) {\n        mediaPipeHandler.current.stop();\n      }\n      mediaPipeHandler.current = createMediaPipeHandler();\n      const success = await mediaPipeHandler.current.initialize(videoRef.current, canvasRef.current, onResults);\n      if (success) {\n        setCameraActive(true);\n        toast.success('Cámara iniciada correctamente');\n      } else {\n        toast.error('Error al inicializar la cámara');\n      }\n    } catch (error) {\n      console.error('Error starting camera:', error);\n      toast.error('Error al acceder a la cámara. Verifica los permisos.');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n  const stopCamera = () => {\n    if (mediaPipeHandler.current) {\n      mediaPipeHandler.current.stop();\n      setCameraActive(false);\n      setHandsDetected(false);\n      setPracticeInProgress(false);\n      currentLandmarksRef.current = null;\n      toast.success('Cámara detenida');\n    }\n  };\n  const startLearning = sign => {\n    setCurrentSign(sign);\n    setStudyMode('learn');\n    updateProgress(sign, 'view');\n  };\n  const startPractice = sign => {\n    if (!cameraActive) {\n      toast.error('Primero inicia la cámara para practicar');\n      return;\n    }\n    setCurrentSign(sign);\n    setStudyMode('practice');\n    setPracticeAttempts(0);\n    setPracticeSuccess(0);\n    setPracticeResult(null);\n    setPracticeInProgress(true);\n    updateProgress(sign, 'practice_start');\n  };\n  const stopPractice = async () => {\n    setPracticeInProgress(false);\n    if (practiceAttempts > 0) {\n      const accuracy = practiceSuccess / practiceAttempts * 100;\n      const isSuccessful = accuracy >= 70;\n      await updateProgress(currentSign, 'practice_complete', isSuccessful, practiceAttempts);\n      toast.success(`Práctica completada: ${practiceSuccess}/${practiceAttempts} intentos exitosos (${accuracy.toFixed(1)}%)`);\n    }\n    setCurrentSign('');\n    setStudyMode('learn');\n  };\n  const startQuiz = sign => {\n    const model = models.find(m => m.id === selectedModel);\n    if (!model) return;\n    const targetSign = sign || model.signs[Math.floor(Math.random() * model.signs.length)];\n    const incorrectOptions = model.signs.filter(s => s !== targetSign);\n    const shuffledIncorrect = incorrectOptions.sort(() => 0.5 - Math.random()).slice(0, 3);\n    const allOptions = [targetSign, ...shuffledIncorrect].sort(() => 0.5 - Math.random());\n    setCurrentSign(targetSign);\n    setCorrectAnswer(targetSign);\n    setQuizOptions(allOptions);\n    setShowQuiz(true);\n    setStudyMode('quiz');\n  };\n  const handleQuizAnswer = async selectedAnswer => {\n    const correct = selectedAnswer === correctAnswer;\n    if (correct) {\n      toast.success('¡Correcto!');\n    } else {\n      toast.error(`Incorrecto. La respuesta era: ${correctAnswer}`);\n    }\n    await updateProgress(currentSign, 'quiz', correct);\n    setShowQuiz(false);\n    setCurrentSign('');\n  };\n  const getSignProgress = sign => {\n    var _learningStats$signSt;\n    if (!learningStats) return null;\n    return (_learningStats$signSt = learningStats.signStats.find(s => s.sign === sign)) === null || _learningStats$signSt === void 0 ? void 0 : _learningStats$signSt.progress;\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const selectedModelData = models.find(m => m.id === selectedModel);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(motion.h2, {\n        initial: {\n          opacity: 0,\n          y: -10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"text-4xl font-bold bg-gradient-to-r from-indigo-500 to-purple-500 bg-clip-text text-transparent mb-3\",\n        children: \"Aprender Se\\xF1as\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-lg\",\n        children: \"Domina las se\\xF1as de tus modelos con pr\\xE1ctica interactiva en tiempo real\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: -20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"lg:col-span-1 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FiBook, {\n              className: \"text-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), \"Seleccionar Modelo\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedModel,\n            onChange: e => setSelectedModel(e.target.value),\n            className: \"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Elige un modelo para estudiar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), models.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: model.id,\n              children: model.name\n            }, model.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.02\n              },\n              whileTap: {\n                scale: 0.98\n              },\n              onClick: cameraActive ? stopCamera : startCamera,\n              disabled: isInitializing,\n              className: `flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-semibold transition-all ${cameraActive ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-blue-500 text-white hover:bg-blue-600'} disabled:opacity-50 shadow-lg text-sm`,\n              children: isInitializing ? /*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  rotate: 360\n                },\n                transition: {\n                  duration: 1,\n                  repeat: Infinity\n                },\n                children: /*#__PURE__*/_jsxDEV(FiCamera, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this) : cameraActive ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FiCameraOff, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this), \"Detener\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FiCamera, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), \"C\\xE1mara\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-center gap-2 py-3 px-4 rounded-xl text-sm font-semibold ${handsDetected ? 'bg-green-500 text-white' : 'bg-yellow-500 text-white'}`,\n              children: handsDetected ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this), \"Detectado\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FiEye, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 23\n                }, this), \"Sin mano\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), cameraActive && studyMode === 'practice' && currentSign && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-xl border-2 ${practiceResult !== null && practiceResult !== void 0 && practiceResult.success ? 'bg-green-50 border-green-200' : practiceResult ? 'bg-red-50 border-red-200' : 'bg-blue-50 border-blue-200'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-bold mb-2\",\n                  children: [\"Practicando: \", currentSign]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm mb-2\",\n                  children: [\"Intentos: \", practiceSuccess, \"/\", practiceAttempts]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm mb-2\",\n                  children: [\"Confianza: \", (practiceConfidence * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this), practiceResult && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-sm font-medium ${practiceResult.success ? 'text-green-700' : 'text-red-700'}`,\n                  children: practiceResult.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.02\n              },\n              whileTap: {\n                scale: 0.98\n              },\n              onClick: stopPractice,\n              className: \"w-full bg-red-500 text-white py-3 px-4 rounded-xl hover:bg-red-600 transition-colors font-semibold\",\n              children: \"Terminar Pr\\xE1ctica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), learningStats && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-xl\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-indigo-800 mb-3\",\n                children: \"Progreso General\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between text-sm mb-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Completado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [learningStats.totalProgress, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full bg-gray-200 rounded-full h-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500\",\n                      style: {\n                        width: `${learningStats.totalProgress}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-3 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center p-2 bg-green-50 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-bold text-green-600\",\n                      children: learningStats.completedSigns\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-green-800\",\n                      children: \"Dominadas\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center p-2 bg-blue-50 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-bold text-blue-600\",\n                      children: learningStats.totalSigns\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-blue-800\",\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Tiempo de sesi\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-mono text-indigo-600\",\n                  children: formatTime(sessionTime)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-4 gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => setStudyMode('learn'),\n                  className: `p-3 rounded-lg font-semibold text-sm transition-all ${studyMode === 'learn' ? 'bg-indigo-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n                  children: [/*#__PURE__*/_jsxDEV(FiBook, {\n                    className: \"mx-auto mb-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 23\n                  }, this), \"Aprender\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => setStudyMode('practice'),\n                  disabled: !cameraActive,\n                  className: `p-3 rounded-lg font-semibold text-sm transition-all ${studyMode === 'practice' ? 'bg-green-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'} disabled:opacity-50`,\n                  children: [/*#__PURE__*/_jsxDEV(FiTarget, {\n                    className: \"mx-auto mb-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 23\n                  }, this), \"Practicar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => setStudyMode('quiz'),\n                  className: `p-3 rounded-lg font-semibold text-sm transition-all ${studyMode === 'quiz' ? 'bg-purple-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n                  children: [/*#__PURE__*/_jsxDEV(FiUser, {\n                    className: \"mx-auto mb-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 23\n                  }, this), \"Quiz\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => setStudyMode('review'),\n                  className: `p-3 rounded-lg font-semibold text-sm transition-all ${studyMode === 'review' ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n                  children: [/*#__PURE__*/_jsxDEV(FiTrendingUp, {\n                    className: \"mx-auto mb-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 23\n                  }, this), \"Repasar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), leaderboard.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FiAward, {\n              className: \"text-yellow-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this), \"Clasificaci\\xF3n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 max-h-64 overflow-y-auto\",\n            children: leaderboard.slice(0, 5).map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${index === 0 ? 'bg-yellow-100 text-yellow-800' : index === 1 ? 'bg-gray-100 text-gray-800' : index === 2 ? 'bg-orange-100 text-orange-800' : 'bg-blue-100 text-blue-800'}`,\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-800 text-sm\",\n                    children: entry.modelName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-600\",\n                    children: [entry.completedSigns, \"/\", entry.totalSigns, \" se\\xF1as\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 563,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-bold text-indigo-600\",\n                  children: [entry.totalProgress, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"lg:col-span-3 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-black rounded-2xl overflow-hidden shadow-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            className: \"hidden\",\n            autoPlay: true,\n            muted: true,\n            playsInline: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            className: \"w-full h-auto\",\n            width: 640,\n            height: 480\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this), !cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-90 backdrop-blur-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-8xl mb-6\",\n                children: \"\\uD83D\\uDCF9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl mb-4\",\n                children: \"Vista de la c\\xE1mara\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300\",\n                children: \"Inicia la c\\xE1mara para practicar se\\xF1as\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 15\n          }, this), currentSign && cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-4 py-2 rounded-lg backdrop-blur-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold text-xl\",\n              children: [studyMode === 'practice' ? 'Practica' : 'Seña', \": \", currentSign]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this), studyMode === 'practice' && practiceResult && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `absolute top-4 right-4 px-4 py-2 rounded-lg backdrop-blur-sm ${practiceResult.success ? 'bg-green-600 text-white' : 'bg-red-600 text-white'}`,\n            children: practiceResult.success ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 21\n              }, this), \"\\xA1Correcto!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FiX, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 21\n              }, this), \"Intenta de nuevo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          mode: \"wait\",\n          children: showQuiz ? /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              scale: 0.95\n            },\n            animate: {\n              opacity: 1,\n              scale: 1\n            },\n            exit: {\n              opacity: 0,\n              scale: 0.95\n            },\n            className: \"bg-white p-8 rounded-2xl shadow-lg border border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-bold text-gray-800 mb-2\",\n                children: \"\\xBFQu\\xE9 se\\xF1a es esta?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl mb-6 p-8 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl border-2 border-dashed border-purple-300\",\n                children: currentSign\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4 max-w-md mx-auto\",\n              children: quizOptions.map((option, index) => /*#__PURE__*/_jsxDEV(motion.button, {\n                whileHover: {\n                  scale: 1.02\n                },\n                whileTap: {\n                  scale: 0.98\n                },\n                onClick: () => handleQuizAnswer(option),\n                className: \"p-4 bg-gradient-to-r from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 border-2 border-indigo-200 rounded-xl font-semibold text-indigo-800 transition-all\",\n                children: option\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 17\n            }, this)]\n          }, \"quiz\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 15\n          }, this) : selectedModelData ? /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: [\"Se\\xF1as de \", selectedModelData.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => startQuiz(),\n                  disabled: !selectedModelData.signs.length,\n                  className: \"flex items-center gap-2 bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 disabled:opacity-50 transition-all font-semibold\",\n                  children: [/*#__PURE__*/_jsxDEV(FiZap, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 682,\n                    columnNumber: 23\n                  }, this), \"Quiz Aleatorio\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: loadLearningStats,\n                  className: \"flex items-center gap-2 bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-all\",\n                  children: /*#__PURE__*/_jsxDEV(FiRefreshCw, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 691,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n              children: selectedModelData.signs.map((sign, index) => {\n                const progress = getSignProgress(sign);\n                const mastered = (progress === null || progress === void 0 ? void 0 : progress.mastered) || false;\n                const viewed = (progress === null || progress === void 0 ? void 0 : progress.viewed) || 0;\n                const correct = (progress === null || progress === void 0 ? void 0 : progress.correct) || 0;\n                const incorrect = (progress === null || progress === void 0 ? void 0 : progress.incorrect) || 0;\n                const practiceAttempts = (progress === null || progress === void 0 ? void 0 : progress.practiceAttempts) || 0;\n                const practiceSuccess = (progress === null || progress === void 0 ? void 0 : progress.practiceSuccess) || 0;\n                const accuracy = correct + incorrect > 0 ? correct / (correct + incorrect) * 100 : 0;\n                const practiceAccuracy = practiceAttempts > 0 ? practiceSuccess / practiceAttempts * 100 : 0;\n                return /*#__PURE__*/_jsxDEV(motion.div, {\n                  initial: {\n                    opacity: 0,\n                    y: 20\n                  },\n                  animate: {\n                    opacity: 1,\n                    y: 0\n                  },\n                  transition: {\n                    delay: index * 0.05\n                  },\n                  className: `relative p-6 rounded-2xl shadow-lg border-2 transition-all duration-300 ${mastered ? 'bg-gradient-to-br from-green-50 to-emerald-50 border-green-200' : viewed > 0 ? 'bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200' : 'bg-white border-gray-200 hover:border-indigo-300'}`,\n                  children: [mastered && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(FiCheck, {\n                      className: \"text-white text-sm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 724,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 723,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-4xl font-bold text-gray-800 mb-2 p-4 bg-gray-50 rounded-xl\",\n                      children: sign\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 729,\n                      columnNumber: 27\n                    }, this), progress && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-center gap-4 text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"flex items-center gap-1 text-blue-600\",\n                          children: [/*#__PURE__*/_jsxDEV(FiEye, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 737,\n                            columnNumber: 35\n                          }, this), \" \", viewed]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 736,\n                          columnNumber: 33\n                        }, this), correct > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"flex items-center gap-1 text-green-600\",\n                          children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 741,\n                            columnNumber: 37\n                          }, this), \" \", correct]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 740,\n                          columnNumber: 35\n                        }, this), incorrect > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"flex items-center gap-1 text-red-600\",\n                          children: [/*#__PURE__*/_jsxDEV(FiX, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 746,\n                            columnNumber: 37\n                          }, this), \" \", incorrect]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 745,\n                          columnNumber: 35\n                        }, this), practiceAttempts > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"flex items-center gap-1 text-purple-600\",\n                          children: [/*#__PURE__*/_jsxDEV(FiTarget, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 751,\n                            columnNumber: 37\n                          }, this), \" \", practiceSuccess, \"/\", practiceAttempts]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 750,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 735,\n                        columnNumber: 31\n                      }, this), (accuracy > 0 || practiceAccuracy > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-1\",\n                        children: [accuracy > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-600\",\n                            children: [\"Quiz: \", accuracy.toFixed(0), \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 760,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-full bg-gray-200 rounded-full h-2\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `h-2 rounded-full transition-all duration-500 ${accuracy >= 80 ? 'bg-green-500' : accuracy >= 60 ? 'bg-yellow-500' : 'bg-red-500'}`,\n                              style: {\n                                width: `${accuracy}%`\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 762,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 761,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 759,\n                          columnNumber: 37\n                        }, this), practiceAccuracy > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-600\",\n                            children: [\"Pr\\xE1ctica: \", practiceAccuracy.toFixed(0), \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 775,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"w-full bg-gray-200 rounded-full h-2\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: `h-2 rounded-full transition-all duration-500 ${practiceAccuracy >= 80 ? 'bg-purple-500' : practiceAccuracy >= 60 ? 'bg-orange-500' : 'bg-pink-500'}`,\n                              style: {\n                                width: `${practiceAccuracy}%`\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 777,\n                              columnNumber: 41\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 776,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 774,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 757,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 734,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 728,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-3 gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(motion.button, {\n                      whileHover: {\n                        scale: 1.02\n                      },\n                      whileTap: {\n                        scale: 0.98\n                      },\n                      onClick: () => startLearning(sign),\n                      className: \"flex items-center justify-center gap-1 bg-indigo-500 text-white py-2 px-2 rounded-lg hover:bg-indigo-600 transition-all text-xs font-semibold\",\n                      children: [/*#__PURE__*/_jsxDEV(FiBook, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 800,\n                        columnNumber: 29\n                      }, this), \"Estudiar\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 794,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                      whileHover: {\n                        scale: 1.02\n                      },\n                      whileTap: {\n                        scale: 0.98\n                      },\n                      onClick: () => startPractice(sign),\n                      disabled: !cameraActive,\n                      className: \"flex items-center justify-center gap-1 bg-green-500 text-white py-2 px-2 rounded-lg hover:bg-green-600 disabled:opacity-50 transition-all text-xs font-semibold\",\n                      children: [/*#__PURE__*/_jsxDEV(FiTarget, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 811,\n                        columnNumber: 29\n                      }, this), \"Practicar\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 804,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                      whileHover: {\n                        scale: 1.02\n                      },\n                      whileTap: {\n                        scale: 0.98\n                      },\n                      onClick: () => startQuiz(sign),\n                      className: \"flex items-center justify-center gap-1 bg-purple-500 text-white py-2 px-2 rounded-lg hover:bg-purple-600 transition-all text-xs font-semibold\",\n                      children: [/*#__PURE__*/_jsxDEV(FiUser, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 821,\n                        columnNumber: 29\n                      }, this), \"Quiz\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 815,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 793,\n                    columnNumber: 25\n                  }, this)]\n                }, sign, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this)]\n          }, \"learning\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              scale: 0.95\n            },\n            animate: {\n              opacity: 1,\n              scale: 1\n            },\n            className: \"bg-gradient-to-br from-indigo-50 to-purple-50 p-12 rounded-2xl border border-indigo-200 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-6xl mb-6\",\n              children: \"\\uD83D\\uDCDA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold text-gray-800 mb-4\",\n              children: \"Selecciona un Modelo para Comenzar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-lg\",\n              children: \"Elige un modelo desde el panel lateral para empezar a aprender sus se\\xF1as\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 17\n            }, this)]\n          }, \"empty\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this), currentSign && studyMode === 'learn' && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          className: \"bg-white p-8 rounded-2xl shadow-lg border border-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold text-gray-800 mb-4\",\n              children: [\"Estudiando: \", currentSign]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-8xl mb-8 p-12 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl border-2 border-dashed border-indigo-300\",\n              children: currentSign\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-w-2xl mx-auto space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-50 p-4 rounded-xl\",\n                  children: [/*#__PURE__*/_jsxDEV(FiEye, {\n                    className: \"text-blue-500 text-2xl mx-auto mb-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 863,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold text-blue-800\",\n                    children: \"Observa\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 864,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-blue-600\",\n                    children: \"La forma de la se\\xF1a\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 865,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-green-50 p-4 rounded-xl\",\n                  children: [/*#__PURE__*/_jsxDEV(FiTarget, {\n                    className: \"text-green-500 text-2xl mx-auto mb-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 868,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold text-green-800\",\n                    children: \"Practica\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 869,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-green-600\",\n                    children: \"Los movimientos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 870,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 867,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-purple-50 p-4 rounded-xl\",\n                  children: [/*#__PURE__*/_jsxDEV(FiUser, {\n                    className: \"text-purple-500 text-2xl mx-auto mb-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 873,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold text-purple-800\",\n                    children: \"Memoriza\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 874,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-purple-600\",\n                    children: \"La posici\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 875,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 872,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => {\n                    updateProgress(currentSign, 'study', undefined, 30);\n                    toast.success('¡Tiempo de estudio registrado!');\n                  },\n                  className: \"flex items-center gap-2 bg-green-500 text-white py-3 px-6 rounded-xl hover:bg-green-600 transition-all font-semibold\",\n                  children: [/*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 23\n                  }, this), \"Marcar como Estudiada\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 880,\n                  columnNumber: 21\n                }, this), cameraActive && /*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => startPractice(currentSign),\n                  className: \"flex items-center gap-2 bg-green-600 text-white py-3 px-6 rounded-xl hover:bg-green-700 transition-all font-semibold\",\n                  children: [/*#__PURE__*/_jsxDEV(FiTarget, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 900,\n                    columnNumber: 25\n                  }, this), \"Practicar Se\\xF1a\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 894,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                  whileHover: {\n                    scale: 1.02\n                  },\n                  whileTap: {\n                    scale: 0.98\n                  },\n                  onClick: () => startQuiz(currentSign),\n                  className: \"flex items-center gap-2 bg-purple-500 text-white py-3 px-6 rounded-xl hover:bg-purple-600 transition-all font-semibold\",\n                  children: [/*#__PURE__*/_jsxDEV(FiUser, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 911,\n                    columnNumber: 23\n                  }, this), \"Hacer Quiz\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n};\n_s(SignLearning, \"dwr5O05H8/GuQ7x8mwlV9tVZwhI=\");\n_c = SignLearning;\nexport default SignLearning;\nvar _c;\n$RefreshReg$(_c, \"SignLearning\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","motion","AnimatePresence","FiBook","FiCheck","FiX","FiTrendingUp","FiTarget","FiAward","FiEye","FiZap","FiRefreshCw","FiUser","FiCamera","FiCameraOff","toast","api","createMediaPipeHandler","jsxDEV","_jsxDEV","Fragment","_Fragment","SignLearning","models","_s","videoRef","canvasRef","mediaPipeHandler","currentLandmarksRef","practiceIntervalRef","selectedModel","setSelectedModel","learningStats","setLearningStats","currentSign","setCurrentSign","showQuiz","setShowQuiz","quizOptions","setQuizOptions","correctAnswer","setCorrectAnswer","loading","setLoading","studyMode","setStudyMode","sessionTime","setSessionTime","leaderboard","setLeaderboard","cameraActive","setCameraActive","isInitializing","setIsInitializing","handsDetected","setHandsDetected","practiceResult","setPracticeResult","practiceAttempts","setPracticeAttempts","practiceSuccess","setPracticeSuccess","practiceConfidence","setPracticeConfidence","practiceInProgress","setPracticeInProgress","interval","setInterval","prev","clearInterval","loadLearningStats","loadLeaderboard","current","stop","onResults","results","hasHands","multiHandLandmarks","length","landmarks","checkPracticeSign","response","post","modelId","map","l","x","y","z","prediction","confidence","data","success","message","setTimeout","error","console","get","updateProgress","sign","action","correct","time","startCamera","log","initialize","stopCamera","startLearning","startPractice","stopPractice","accuracy","isSuccessful","toFixed","startQuiz","model","find","m","id","targetSign","signs","Math","floor","random","incorrectOptions","filter","s","shuffledIncorrect","sort","slice","allOptions","handleQuizAnswer","selectedAnswer","getSignProgress","_learningStats$signSt","signStats","progress","formatTime","seconds","mins","secs","toString","padStart","selectedModelData","div","initial","opacity","animate","className","children","h2","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","name","button","whileHover","scale","whileTap","onClick","disabled","rotate","transition","duration","repeat","Infinity","totalProgress","style","width","completedSigns","totalSigns","entry","index","modelName","ref","autoPlay","muted","playsInline","height","mode","exit","option","mastered","viewed","incorrect","practiceAccuracy","delay","undefined","_c","$RefreshReg$"],"sources":["C:/Users/quisp/Desktop/FinalProject/frontend/src/components/SignLearning.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { FiBook, FiPlay, FiCheck, FiX, FiStar, FiTrendingUp, FiClock, FiTarget, FiAward, FiEye, FiZap, FiRefreshCw, FiUser, FiCamera, FiCameraOff } from 'react-icons/fi';\r\nimport toast from 'react-hot-toast';\r\nimport { api } from '../utils/api';\r\nimport { MediaPipeHandler, createMediaPipeHandler } from '../utils/mediapipe';\r\nimport { Results } from '@mediapipe/hands';\r\n\r\ninterface SignLearningProps {\r\n  models: any[];\r\n}\r\n\r\nconst SignLearning: React.FC<SignLearningProps> = ({ models }) => {\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const mediaPipeHandler = useRef<MediaPipeHandler | null>(null);\r\n  const currentLandmarksRef = useRef<any[] | null>(null);\r\n  const practiceIntervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const [selectedModel, setSelectedModel] = useState<string>('');\r\n  const [learningStats, setLearningStats] = useState<any>(null);\r\n  const [currentSign, setCurrentSign] = useState<string>('');\r\n  const [showQuiz, setShowQuiz] = useState<boolean>(false);\r\n  const [quizOptions, setQuizOptions] = useState<string[]>([]);\r\n  const [correctAnswer, setCorrectAnswer] = useState<string>('');\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [studyMode, setStudyMode] = useState<'learn' | 'quiz' | 'practice' | 'review'>('learn');\r\n  const [sessionTime, setSessionTime] = useState<number>(0);\r\n  const [leaderboard, setLeaderboard] = useState<any[]>([]);\r\n  const [cameraActive, setCameraActive] = useState<boolean>(false);\r\n  const [isInitializing, setIsInitializing] = useState<boolean>(false);\r\n  const [handsDetected, setHandsDetected] = useState<boolean>(false);\r\n  const [practiceResult, setPracticeResult] = useState<any>(null);\r\n  const [practiceAttempts, setPracticeAttempts] = useState<number>(0);\r\n  const [practiceSuccess, setPracticeSuccess] = useState<number>(0);\r\n  const [practiceConfidence, setPracticeConfidence] = useState<number>(0);\r\n  const [practiceInProgress, setPracticeInProgress] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (selectedModel && studyMode !== 'review') {\r\n      interval = setInterval(() => {\r\n        setSessionTime(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [selectedModel, studyMode]);\r\n\r\n  useEffect(() => {\r\n    if (selectedModel) {\r\n      loadLearningStats();\r\n    }\r\n    loadLeaderboard();\r\n  }, [selectedModel]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (mediaPipeHandler.current) {\r\n        mediaPipeHandler.current.stop();\r\n      }\r\n      if (practiceIntervalRef.current) {\r\n        clearInterval(practiceIntervalRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const onResults = useCallback((results: Results): void => {\r\n    const hasHands = results.multiHandLandmarks && results.multiHandLandmarks.length > 0;\r\n    setHandsDetected(hasHands);\r\n    \r\n    if (hasHands) {\r\n      const landmarks = results.multiHandLandmarks[0];\r\n      if (landmarks && landmarks.length === 21) {\r\n        currentLandmarksRef.current = landmarks;\r\n      }\r\n    } else {\r\n      currentLandmarksRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  const checkPracticeSign = useCallback(async (): Promise<void> => {\r\n    if (!practiceInProgress || !selectedModel || !currentSign || !currentLandmarksRef.current) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.post('/prediction/predict', {\r\n        modelId: selectedModel,\r\n        landmarks: currentLandmarksRef.current.map((l: any) => ({ x: l.x, y: l.y, z: l.z }))\r\n      });\r\n\r\n      const { prediction, confidence } = response.data;\r\n      setPracticeConfidence(confidence);\r\n\r\n      if (prediction === currentSign && confidence >= 0.7) {\r\n        setPracticeResult({\r\n          success: true,\r\n          prediction,\r\n          confidence,\r\n          message: '¡Excelente! Estás haciendo la seña correctamente'\r\n        });\r\n        setPracticeSuccess(prev => prev + 1);\r\n        \r\n        setTimeout(() => {\r\n          setPracticeResult(null);\r\n        }, 2000);\r\n      } else if (confidence >= 0.5) {\r\n        setPracticeResult({\r\n          success: false,\r\n          prediction,\r\n          confidence,\r\n          message: `Detecté \"${prediction}\" pero esperaba \"${currentSign}\". Intenta de nuevo`\r\n        });\r\n      } else {\r\n        setPracticeResult({\r\n          success: false,\r\n          prediction: 'INCIERTO',\r\n          confidence,\r\n          message: 'No puedo reconocer la seña claramente. Asegúrate de que tu mano esté bien visible'\r\n        });\r\n      }\r\n      \r\n      setPracticeAttempts(prev => prev + 1);\r\n    } catch (error) {\r\n      console.error('Error checking practice sign:', error);\r\n    }\r\n  }, [practiceInProgress, selectedModel, currentSign]);\r\n\r\n  useEffect(() => {\r\n    if (practiceInProgress && studyMode === 'practice') {\r\n      practiceIntervalRef.current = setInterval(checkPracticeSign, 1000);\r\n    } else if (practiceIntervalRef.current) {\r\n      clearInterval(practiceIntervalRef.current);\r\n      practiceIntervalRef.current = null;\r\n    }\r\n\r\n    return () => {\r\n      if (practiceIntervalRef.current) {\r\n        clearInterval(practiceIntervalRef.current);\r\n        practiceIntervalRef.current = null;\r\n      }\r\n    };\r\n  }, [practiceInProgress, studyMode, checkPracticeSign]);\r\n\r\n  const loadLearningStats = async () => {\r\n    if (!selectedModel) return;\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get(`/learning/stats/${selectedModel}`);\r\n      setLearningStats(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading learning stats:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadLeaderboard = async () => {\r\n    try {\r\n      const response = await api.get('/learning/leaderboard');\r\n      setLeaderboard(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading leaderboard:', error);\r\n    }\r\n  };\r\n\r\n  const updateProgress = async (sign: string, action: string, correct?: boolean, time?: number) => {\r\n    try {\r\n      await api.post('/learning/progress', {\r\n        modelId: selectedModel,\r\n        sign,\r\n        action,\r\n        correct,\r\n        time\r\n      });\r\n      await loadLearningStats();\r\n    } catch (error) {\r\n      console.error('Error updating progress:', error);\r\n    }\r\n  };\r\n\r\n  const startCamera = async (): Promise<void> => {\r\n    console.log('Intentando iniciar cámara...');\r\n    console.log('videoRef.current:', videoRef.current);\r\n    console.log('canvasRef.current:', canvasRef.current);\r\n\r\n    if (!videoRef.current || !canvasRef.current) {\r\n      console.error('Referencias de video no disponibles');\r\n      toast.error('Error: No se encontraron los elementos de video. Recarga la página.');\r\n      return;\r\n    }\r\n\r\n    setIsInitializing(true);\r\n    \r\n    try {\r\n      if (mediaPipeHandler.current) {\r\n        mediaPipeHandler.current.stop();\r\n      }\r\n      \r\n      mediaPipeHandler.current = createMediaPipeHandler();\r\n      \r\n      const success = await mediaPipeHandler.current.initialize(\r\n        videoRef.current,\r\n        canvasRef.current,\r\n        onResults\r\n      );\r\n      \r\n      if (success) {\r\n        setCameraActive(true);\r\n        toast.success('Cámara iniciada correctamente');\r\n      } else {\r\n        toast.error('Error al inicializar la cámara');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting camera:', error);\r\n      toast.error('Error al acceder a la cámara. Verifica los permisos.');\r\n    } finally {\r\n      setIsInitializing(false);\r\n    }\r\n  };\r\n\r\n  const stopCamera = (): void => {\r\n    if (mediaPipeHandler.current) {\r\n      mediaPipeHandler.current.stop();\r\n      setCameraActive(false);\r\n      setHandsDetected(false);\r\n      setPracticeInProgress(false);\r\n      currentLandmarksRef.current = null;\r\n      toast.success('Cámara detenida');\r\n    }\r\n  };\r\n\r\n  const startLearning = (sign: string) => {\r\n    setCurrentSign(sign);\r\n    setStudyMode('learn');\r\n    updateProgress(sign, 'view');\r\n  };\r\n\r\n  const startPractice = (sign: string) => {\r\n    if (!cameraActive) {\r\n      toast.error('Primero inicia la cámara para practicar');\r\n      return;\r\n    }\r\n    \r\n    setCurrentSign(sign);\r\n    setStudyMode('practice');\r\n    setPracticeAttempts(0);\r\n    setPracticeSuccess(0);\r\n    setPracticeResult(null);\r\n    setPracticeInProgress(true);\r\n    updateProgress(sign, 'practice_start');\r\n  };\r\n\r\n  const stopPractice = async () => {\r\n    setPracticeInProgress(false);\r\n    \r\n    if (practiceAttempts > 0) {\r\n      const accuracy = (practiceSuccess / practiceAttempts) * 100;\r\n      const isSuccessful = accuracy >= 70;\r\n      \r\n      await updateProgress(currentSign, 'practice_complete', isSuccessful, practiceAttempts);\r\n      \r\n      toast.success(`Práctica completada: ${practiceSuccess}/${practiceAttempts} intentos exitosos (${accuracy.toFixed(1)}%)`);\r\n    }\r\n    \r\n    setCurrentSign('');\r\n    setStudyMode('learn');\r\n  };\r\n\r\n  const startQuiz = (sign?: string) => {\r\n    const model = models.find((m: any) => m.id === selectedModel);\r\n    if (!model) return;\r\n\r\n    const targetSign = sign || model.signs[Math.floor(Math.random() * model.signs.length)];\r\n    const incorrectOptions = model.signs.filter((s: string) => s !== targetSign);\r\n    const shuffledIncorrect = incorrectOptions.sort(() => 0.5 - Math.random()).slice(0, 3);\r\n    const allOptions = [targetSign, ...shuffledIncorrect].sort(() => 0.5 - Math.random());\r\n\r\n    setCurrentSign(targetSign);\r\n    setCorrectAnswer(targetSign);\r\n    setQuizOptions(allOptions);\r\n    setShowQuiz(true);\r\n    setStudyMode('quiz');\r\n  };\r\n\r\n  const handleQuizAnswer = async (selectedAnswer: string) => {\r\n    const correct = selectedAnswer === correctAnswer;\r\n    if (correct) {\r\n      toast.success('¡Correcto!');\r\n    } else {\r\n      toast.error(`Incorrecto. La respuesta era: ${correctAnswer}`);\r\n    }\r\n\r\n    await updateProgress(currentSign, 'quiz', correct);\r\n    setShowQuiz(false);\r\n    setCurrentSign('');\r\n  };\r\n\r\n  const getSignProgress = (sign: string) => {\r\n    if (!learningStats) return null;\r\n    return learningStats.signStats.find((s: any) => s.sign === sign)?.progress;\r\n  };\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const selectedModelData = models.find((m: any) => m.id === selectedModel);\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"space-y-8\"\r\n    >\r\n      <div className=\"text-center\">\r\n        <motion.h2\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"text-4xl font-bold bg-gradient-to-r from-indigo-500 to-purple-500 bg-clip-text text-transparent mb-3\"\r\n        >\r\n          Aprender Señas\r\n        </motion.h2>\r\n        <p className=\"text-gray-600 text-lg\">\r\n          Domina las señas de tus modelos con práctica interactiva en tiempo real\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          className=\"lg:col-span-1 space-y-6\"\r\n        >\r\n          <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2\">\r\n              <FiBook className=\"text-indigo-500\" />\r\n              Seleccionar Modelo\r\n            </h3>\r\n\r\n            <select\r\n              value={selectedModel}\r\n              onChange={(e) => setSelectedModel(e.target.value)}\r\n              className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all mb-4\"\r\n            >\r\n              <option value=\"\">Elige un modelo para estudiar</option>\r\n              {models.map((model) => (\r\n                <option key={model.id} value={model.id}>\r\n                  {model.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n\r\n            <div className=\"grid grid-cols-2 gap-3 mb-4\">\r\n              <motion.button\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                onClick={cameraActive ? stopCamera : startCamera}\r\n                disabled={isInitializing}\r\n                className={`flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-semibold transition-all ${\r\n                  cameraActive\r\n                    ? 'bg-red-500 text-white hover:bg-red-600'\r\n                    : 'bg-blue-500 text-white hover:bg-blue-600'\r\n                } disabled:opacity-50 shadow-lg text-sm`}\r\n              >\r\n                {isInitializing ? (\r\n                  <motion.div animate={{ rotate: 360 }} transition={{ duration: 1, repeat: Infinity }}>\r\n                    <FiCamera />\r\n                  </motion.div>\r\n                ) : cameraActive ? (\r\n                  <>\r\n                    <FiCameraOff />\r\n                    Detener\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <FiCamera />\r\n                    Cámara\r\n                  </>\r\n                )}\r\n              </motion.button>\r\n              \r\n              {cameraActive && (\r\n                <div className={`flex items-center justify-center gap-2 py-3 px-4 rounded-xl text-sm font-semibold ${\r\n                  handsDetected \r\n                    ? 'bg-green-500 text-white' \r\n                    : 'bg-yellow-500 text-white'\r\n                }`}>\r\n                  {handsDetected ? (\r\n                    <>\r\n                      <FiCheck />\r\n                      Detectado\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FiEye />\r\n                      Sin mano\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {cameraActive && studyMode === 'practice' && currentSign && (\r\n              <div className=\"space-y-3\">\r\n                <div className={`p-4 rounded-xl border-2 ${\r\n                  practiceResult?.success \r\n                    ? 'bg-green-50 border-green-200' \r\n                    : practiceResult\r\n                      ? 'bg-red-50 border-red-200'\r\n                      : 'bg-blue-50 border-blue-200'\r\n                }`}>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-lg font-bold mb-2\">Practicando: {currentSign}</div>\r\n                    <div className=\"text-sm mb-2\">\r\n                      Intentos: {practiceSuccess}/{practiceAttempts}\r\n                    </div>\r\n                    <div className=\"text-sm mb-2\">\r\n                      Confianza: {(practiceConfidence * 100).toFixed(0)}%\r\n                    </div>\r\n                    {practiceResult && (\r\n                      <div className={`text-sm font-medium ${\r\n                        practiceResult.success ? 'text-green-700' : 'text-red-700'\r\n                      }`}>\r\n                        {practiceResult.message}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <motion.button\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  onClick={stopPractice}\r\n                  className=\"w-full bg-red-500 text-white py-3 px-4 rounded-xl hover:bg-red-600 transition-colors font-semibold\"\r\n                >\r\n                  Terminar Práctica\r\n                </motion.button>\r\n              </div>\r\n            )}\r\n\r\n            {learningStats && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-xl\">\r\n                  <h4 className=\"font-semibold text-indigo-800 mb-3\">Progreso General</h4>\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span>Completado</span>\r\n                        <span>{learningStats.totalProgress}%</span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                        <div\r\n                          className=\"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500\"\r\n                          style={{ width: `${learningStats.totalProgress}%` }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                      <div className=\"text-center p-2 bg-green-50 rounded-lg\">\r\n                        <div className=\"font-bold text-green-600\">{learningStats.completedSigns}</div>\r\n                        <div className=\"text-green-800\">Dominadas</div>\r\n                      </div>\r\n                      <div className=\"text-center p-2 bg-blue-50 rounded-lg\">\r\n                        <div className=\"font-bold text-blue-600\">{learningStats.totalSigns}</div>\r\n                        <div className=\"text-blue-800\">Total</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">Tiempo de sesión</span>\r\n                    <span className=\"font-mono text-indigo-600\">{formatTime(sessionTime)}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"grid grid-cols-4 gap-2\">\r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => setStudyMode('learn')}\r\n                      className={`p-3 rounded-lg font-semibold text-sm transition-all ${\r\n                        studyMode === 'learn'\r\n                          ? 'bg-indigo-500 text-white'\r\n                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      <FiBook className=\"mx-auto mb-1\" />\r\n                      Aprender\r\n                    </motion.button>\r\n                    \r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => setStudyMode('practice')}\r\n                      disabled={!cameraActive}\r\n                      className={`p-3 rounded-lg font-semibold text-sm transition-all ${\r\n                        studyMode === 'practice'\r\n                          ? 'bg-green-500 text-white'\r\n                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                      } disabled:opacity-50`}\r\n                    >\r\n                      <FiTarget className=\"mx-auto mb-1\" />\r\n                      Practicar\r\n                    </motion.button>\r\n                    \r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => setStudyMode('quiz')}\r\n                      className={`p-3 rounded-lg font-semibold text-sm transition-all ${\r\n                        studyMode === 'quiz'\r\n                          ? 'bg-purple-500 text-white'\r\n                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      <FiUser className=\"mx-auto mb-1\" />\r\n                      Quiz\r\n                    </motion.button>\r\n                    \r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => setStudyMode('review')}\r\n                      className={`p-3 rounded-lg font-semibold text-sm transition-all ${\r\n                        studyMode === 'review'\r\n                          ? 'bg-orange-500 text-white'\r\n                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      <FiTrendingUp className=\"mx-auto mb-1\" />\r\n                      Repasar\r\n                    </motion.button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {leaderboard.length > 0 && (\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\">\r\n                <FiAward className=\"text-yellow-500\" />\r\n                Clasificación\r\n              </h3>\r\n              <div className=\"space-y-3 max-h-64 overflow-y-auto\">\r\n                {leaderboard.slice(0, 5).map((entry, index) => (\r\n                  <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${\r\n                        index === 0 ? 'bg-yellow-100 text-yellow-800' :\r\n                        index === 1 ? 'bg-gray-100 text-gray-800' :\r\n                        index === 2 ? 'bg-orange-100 text-orange-800' :\r\n                        'bg-blue-100 text-blue-800'\r\n                      }`}>\r\n                        {index + 1}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"font-medium text-gray-800 text-sm\">{entry.modelName}</div>\r\n                        <div className=\"text-xs text-gray-600\">{entry.completedSigns}/{entry.totalSigns} señas</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <div className=\"font-bold text-indigo-600\">{entry.totalProgress}%</div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          className=\"lg:col-span-3 space-y-6\"\r\n        >\r\n          <div className=\"relative bg-black rounded-2xl overflow-hidden shadow-2xl\">\r\n            <video\r\n              ref={videoRef}\r\n              className=\"hidden\"\r\n              autoPlay\r\n              muted\r\n              playsInline\r\n            />\r\n            <canvas\r\n              ref={canvasRef}\r\n              className=\"w-full h-auto\"\r\n              width={640}\r\n              height={480}\r\n            />\r\n            \r\n            {!cameraActive && (\r\n              <div className=\"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-90 backdrop-blur-sm\">\r\n                <div className=\"text-white text-center\">\r\n                  <div className=\"text-8xl mb-6\">📹</div>\r\n                  <p className=\"text-xl mb-4\">Vista de la cámara</p>\r\n                  <p className=\"text-gray-300\">Inicia la cámara para practicar señas</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {currentSign && cameraActive && (\r\n              <div className=\"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-4 py-2 rounded-lg backdrop-blur-sm\">\r\n                <div className=\"font-bold text-xl\">{studyMode === 'practice' ? 'Practica' : 'Seña'}: {currentSign}</div>\r\n              </div>\r\n            )}\r\n            \r\n            {studyMode === 'practice' && practiceResult && (\r\n              <div className={`absolute top-4 right-4 px-4 py-2 rounded-lg backdrop-blur-sm ${\r\n                practiceResult.success \r\n                  ? 'bg-green-600 text-white' \r\n                  : 'bg-red-600 text-white'\r\n              }`}>\r\n                {practiceResult.success ? (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <FiCheck />\r\n                    ¡Correcto!\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <FiX />\r\n                    Intenta de nuevo\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <AnimatePresence mode=\"wait\">\r\n            {showQuiz ? (\r\n              <motion.div\r\n                key=\"quiz\"\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.95 }}\r\n                className=\"bg-white p-8 rounded-2xl shadow-lg border border-gray-100\"\r\n              >\r\n                <div className=\"text-center mb-8\">\r\n                  <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">¿Qué seña es esta?</h3>\r\n                  <div className=\"text-6xl mb-6 p-8 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl border-2 border-dashed border-purple-300\">\r\n                    {currentSign}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4 max-w-md mx-auto\">\r\n                  {quizOptions.map((option, index) => (\r\n                    <motion.button\r\n                      key={index}\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => handleQuizAnswer(option)}\r\n                      className=\"p-4 bg-gradient-to-r from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 border-2 border-indigo-200 rounded-xl font-semibold text-indigo-800 transition-all\"\r\n                    >\r\n                      {option}\r\n                    </motion.button>\r\n                  ))}\r\n                </div>\r\n              </motion.div>\r\n            ) : selectedModelData ? (\r\n              <motion.div\r\n                key=\"learning\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"space-y-6\"\r\n              >\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h3 className=\"text-2xl font-bold text-gray-800\">\r\n                    Señas de {selectedModelData.name}\r\n                  </h3>\r\n                  <div className=\"flex gap-3\">\r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => startQuiz()}\r\n                      disabled={!selectedModelData.signs.length}\r\n                      className=\"flex items-center gap-2 bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 disabled:opacity-50 transition-all font-semibold\"\r\n                    >\r\n                      <FiZap />\r\n                      Quiz Aleatorio\r\n                    </motion.button>\r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={loadLearningStats}\r\n                      className=\"flex items-center gap-2 bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-all\"\r\n                    >\r\n                      <FiRefreshCw />\r\n                    </motion.button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n                  {selectedModelData.signs.map((sign: string, index: number) => {\r\n                    const progress = getSignProgress(sign);\r\n                    const mastered = progress?.mastered || false;\r\n                    const viewed = progress?.viewed || 0;\r\n                    const correct = progress?.correct || 0;\r\n                    const incorrect = progress?.incorrect || 0;\r\n                    const practiceAttempts = progress?.practiceAttempts || 0;\r\n                    const practiceSuccess = progress?.practiceSuccess || 0;\r\n                    const accuracy = correct + incorrect > 0 ? (correct / (correct + incorrect)) * 100 : 0;\r\n                    const practiceAccuracy = practiceAttempts > 0 ? (practiceSuccess / practiceAttempts) * 100 : 0;\r\n\r\n                    return (\r\n                      <motion.div\r\n                        key={sign}\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: index * 0.05 }}\r\n                        className={`relative p-6 rounded-2xl shadow-lg border-2 transition-all duration-300 ${\r\n                          mastered\r\n                            ? 'bg-gradient-to-br from-green-50 to-emerald-50 border-green-200'\r\n                            : viewed > 0\r\n                              ? 'bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200'\r\n                              : 'bg-white border-gray-200 hover:border-indigo-300'\r\n                        }`}\r\n                      >\r\n                        {mastered && (\r\n                          <div className=\"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\">\r\n                            <FiCheck className=\"text-white text-sm\" />\r\n                          </div>\r\n                        )}\r\n\r\n                        <div className=\"text-center mb-4\">\r\n                          <div className=\"text-4xl font-bold text-gray-800 mb-2 p-4 bg-gray-50 rounded-xl\">\r\n                            {sign}\r\n                          </div>\r\n                          \r\n                          {progress && (\r\n                            <div className=\"space-y-2\">\r\n                              <div className=\"flex justify-center gap-4 text-xs\">\r\n                                <span className=\"flex items-center gap-1 text-blue-600\">\r\n                                  <FiEye /> {viewed}\r\n                                </span>\r\n                                {correct > 0 && (\r\n                                  <span className=\"flex items-center gap-1 text-green-600\">\r\n                                    <FiCheck /> {correct}\r\n                                  </span>\r\n                                )}\r\n                                {incorrect > 0 && (\r\n                                  <span className=\"flex items-center gap-1 text-red-600\">\r\n                                    <FiX /> {incorrect}\r\n                                  </span>\r\n                                )}\r\n                                {practiceAttempts > 0 && (\r\n                                  <span className=\"flex items-center gap-1 text-purple-600\">\r\n                                    <FiTarget /> {practiceSuccess}/{practiceAttempts}\r\n                                  </span>\r\n                                )}\r\n                              </div>\r\n                              \r\n                              {(accuracy > 0 || practiceAccuracy > 0) && (\r\n                                <div className=\"space-y-1\">\r\n                                  {accuracy > 0 && (\r\n                                    <div>\r\n                                      <div className=\"text-xs text-gray-600\">Quiz: {accuracy.toFixed(0)}%</div>\r\n                                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                        <div\r\n                                          className={`h-2 rounded-full transition-all duration-500 ${\r\n                                            accuracy >= 80 ? 'bg-green-500' :\r\n                                            accuracy >= 60 ? 'bg-yellow-500' : 'bg-red-500'\r\n                                          }`}\r\n                                          style={{ width: `${accuracy}%` }}\r\n                                        />\r\n                                      </div>\r\n                                    </div>\r\n                                  )}\r\n                                  \r\n                                  {practiceAccuracy > 0 && (\r\n                                    <div>\r\n                                      <div className=\"text-xs text-gray-600\">Práctica: {practiceAccuracy.toFixed(0)}%</div>\r\n                                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                        <div\r\n                                          className={`h-2 rounded-full transition-all duration-500 ${\r\n                                            practiceAccuracy >= 80 ? 'bg-purple-500' :\r\n                                            practiceAccuracy >= 60 ? 'bg-orange-500' : 'bg-pink-500'\r\n                                          }`}\r\n                                          style={{ width: `${practiceAccuracy}%` }}\r\n                                        />\r\n                                      </div>\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-3 gap-2\">\r\n                          <motion.button\r\n                            whileHover={{ scale: 1.02 }}\r\n                            whileTap={{ scale: 0.98 }}\r\n                            onClick={() => startLearning(sign)}\r\n                            className=\"flex items-center justify-center gap-1 bg-indigo-500 text-white py-2 px-2 rounded-lg hover:bg-indigo-600 transition-all text-xs font-semibold\"\r\n                          >\r\n                            <FiBook />\r\n                            Estudiar\r\n                          </motion.button>\r\n                          \r\n                          <motion.button\r\n                            whileHover={{ scale: 1.02 }}\r\n                            whileTap={{ scale: 0.98 }}\r\n                            onClick={() => startPractice(sign)}\r\n                            disabled={!cameraActive}\r\n                            className=\"flex items-center justify-center gap-1 bg-green-500 text-white py-2 px-2 rounded-lg hover:bg-green-600 disabled:opacity-50 transition-all text-xs font-semibold\"\r\n                          >\r\n                            <FiTarget />\r\n                            Practicar\r\n                          </motion.button>\r\n                          \r\n                          <motion.button\r\n                            whileHover={{ scale: 1.02 }}\r\n                            whileTap={{ scale: 0.98 }}\r\n                            onClick={() => startQuiz(sign)}\r\n                            className=\"flex items-center justify-center gap-1 bg-purple-500 text-white py-2 px-2 rounded-lg hover:bg-purple-600 transition-all text-xs font-semibold\"\r\n                          >\r\n                            <FiUser />\r\n                            Quiz\r\n                          </motion.button>\r\n                        </div>\r\n                      </motion.div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </motion.div>\r\n            ) : (\r\n              <motion.div\r\n                key=\"empty\"\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                className=\"bg-gradient-to-br from-indigo-50 to-purple-50 p-12 rounded-2xl border border-indigo-200 text-center\"\r\n              >\r\n                <div className=\"text-6xl mb-6\">📚</div>\r\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">\r\n                  Selecciona un Modelo para Comenzar\r\n                </h3>\r\n                <p className=\"text-gray-600 text-lg\">\r\n                  Elige un modelo desde el panel lateral para empezar a aprender sus señas\r\n                </p>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {currentSign && studyMode === 'learn' && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"bg-white p-8 rounded-2xl shadow-lg border border-gray-100\"\r\n            >\r\n              <div className=\"text-center\">\r\n                <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">Estudiando: {currentSign}</h3>\r\n                <div className=\"text-8xl mb-8 p-12 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl border-2 border-dashed border-indigo-300\">\r\n                  {currentSign}\r\n                </div>\r\n                \r\n                <div className=\"max-w-2xl mx-auto space-y-6\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"bg-blue-50 p-4 rounded-xl\">\r\n                      <FiEye className=\"text-blue-500 text-2xl mx-auto mb-2\" />\r\n                      <div className=\"font-semibold text-blue-800\">Observa</div>\r\n                      <div className=\"text-sm text-blue-600\">La forma de la seña</div>\r\n                    </div>\r\n                    <div className=\"bg-green-50 p-4 rounded-xl\">\r\n                      <FiTarget className=\"text-green-500 text-2xl mx-auto mb-2\" />\r\n                      <div className=\"font-semibold text-green-800\">Practica</div>\r\n                      <div className=\"text-sm text-green-600\">Los movimientos</div>\r\n                    </div>\r\n                    <div className=\"bg-purple-50 p-4 rounded-xl\">\r\n                      <FiUser className=\"text-purple-500 text-2xl mx-auto mb-2\" />\r\n                      <div className=\"font-semibold text-purple-800\">Memoriza</div>\r\n                      <div className=\"text-sm text-purple-600\">La posición</div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-center gap-4\">\r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => {\r\n                        updateProgress(currentSign, 'study', undefined, 30);\r\n                        toast.success('¡Tiempo de estudio registrado!');\r\n                      }}\r\n                      className=\"flex items-center gap-2 bg-green-500 text-white py-3 px-6 rounded-xl hover:bg-green-600 transition-all font-semibold\"\r\n                    >\r\n                      <FiCheck />\r\n                      Marcar como Estudiada\r\n                    </motion.button>\r\n                    \r\n                    {cameraActive && (\r\n                      <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                        onClick={() => startPractice(currentSign)}\r\n                        className=\"flex items-center gap-2 bg-green-600 text-white py-3 px-6 rounded-xl hover:bg-green-700 transition-all font-semibold\"\r\n                      >\r\n                        <FiTarget />\r\n                        Practicar Seña\r\n                      </motion.button>\r\n                    )}\r\n                    \r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={() => startQuiz(currentSign)}\r\n                      className=\"flex items-center gap-2 bg-purple-500 text-white py-3 px-6 rounded-xl hover:bg-purple-600 transition-all font-semibold\"\r\n                    >\r\n                      <FiUser />\r\n                      Hacer Quiz\r\n                    </motion.button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </motion.div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default SignLearning;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}