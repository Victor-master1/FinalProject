{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabo1\\\\OneDrive\\\\Escritorio\\\\FinalProject\\\\frontend\\\\src\\\\components\\\\ModelTester.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FiCamera, FiCameraOff, FiPlay, FiSquare, FiDownload, FiTrash2, FiVolume2, FiEye, FiEyeOff, FiTarget, FiZap, FiSettings } from 'react-icons/fi';\nimport toast from 'react-hot-toast';\nimport { createMediaPipeHandler } from '../utils/mediapipe';\nimport { api } from '../utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ModelTester = ({\n  models\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const mediaPipeHandler = useRef(null);\n  const predictionIntervalRef = useRef(null);\n  const currentLandmarksRef = useRef(null);\n  const [selectedModel, setSelectedModel] = useState('');\n  const [isActive, setIsActive] = useState(false);\n  const [predictions, setPredictions] = useState([]);\n  const [currentPrediction, setCurrentPrediction] = useState('');\n  const [confidence, setConfidence] = useState(0);\n  const [detectedText, setDetectedText] = useState('');\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [handsDetected, setHandsDetected] = useState(false);\n  const [showPreview, setShowPreview] = useState(true);\n  const [autoSpeak, setAutoSpeak] = useState(false);\n  const [confidenceThreshold, setConfidenceThreshold] = useState(0.7);\n  const [predictionDelay, setPredictionDelay] = useState(500);\n  const [sessionStats, setSessionStats] = useState({\n    totalPredictions: 0,\n    avgConfidence: 0,\n    highConfidencePredictions: 0,\n    sessionDuration: 0\n  });\n  const [sessionStartTime, setSessionStartTime] = useState(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [wordBuffer, setWordBuffer] = useState([]);\n  const onResults = useCallback(results => {\n    const hasHands = results.multiHandLandmarks && results.multiHandLandmarks.length > 0;\n    setHandsDetected(hasHands);\n    if (hasHands) {\n      const landmarks = results.multiHandLandmarks[0];\n      if (landmarks && landmarks.length === 21) {\n        currentLandmarksRef.current = landmarks;\n      }\n    } else {\n      currentLandmarksRef.current = null;\n    }\n  }, []);\n  const predictSign = useCallback(async () => {\n    if (!isActive || !selectedModel || !currentLandmarksRef.current) {\n      return;\n    }\n    try {\n      const response = await api.post('/prediction/predict', {\n        modelId: selectedModel,\n        landmarks: currentLandmarksRef.current.map(l => ({\n          x: l.x,\n          y: l.y,\n          z: l.z\n        }))\n      });\n      const {\n        prediction,\n        confidence: conf\n      } = response.data;\n      if (conf >= confidenceThreshold) {\n        const newPrediction = {\n          sign: prediction,\n          confidence: conf,\n          timestamp: Date.now()\n        };\n        setCurrentPrediction(prediction);\n        setConfidence(conf);\n        setPredictions(prev => [...prev.slice(-19), newPrediction]);\n        setSessionStats(prev => {\n          const newTotal = prev.totalPredictions + 1;\n          const newAvg = (prev.avgConfidence * prev.totalPredictions + conf) / newTotal;\n          const newHigh = conf >= confidenceThreshold ? prev.highConfidencePredictions + 1 : prev.highConfidencePredictions;\n          return {\n            ...prev,\n            totalPredictions: newTotal,\n            avgConfidence: newAvg,\n            highConfidencePredictions: newHigh\n          };\n        });\n        addToWordBuffer(prediction);\n        if (autoSpeak) {\n          speakText(prediction);\n        }\n      }\n    } catch (error) {\n      console.error('Error predicting sign:', error);\n    }\n  }, [isActive, selectedModel, confidenceThreshold, autoSpeak]);\n  useEffect(() => {\n    let interval;\n    if (isActive && sessionStartTime) {\n      interval = setInterval(() => {\n        const duration = Math.floor((Date.now() - sessionStartTime) / 1000);\n        setSessionStats(prev => ({\n          ...prev,\n          sessionDuration: duration\n        }));\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isActive, sessionStartTime]);\n  useEffect(() => {\n    if (isActive && selectedModel) {\n      predictionIntervalRef.current = setInterval(predictSign, predictionDelay);\n    } else if (predictionIntervalRef.current) {\n      clearInterval(predictionIntervalRef.current);\n      predictionIntervalRef.current = null;\n    }\n    return () => {\n      if (predictionIntervalRef.current) {\n        clearInterval(predictionIntervalRef.current);\n        predictionIntervalRef.current = null;\n      }\n    };\n  }, [isActive, selectedModel, predictionDelay, predictSign]);\n  useEffect(() => {\n    return () => {\n      if (mediaPipeHandler.current) {\n        mediaPipeHandler.current.stop();\n      }\n      if (predictionIntervalRef.current) {\n        clearInterval(predictionIntervalRef.current);\n      }\n    };\n  }, []);\n  const addToWordBuffer = word => {\n    setWordBuffer(prev => {\n      const newBuffer = [...prev, word];\n      if (newBuffer.length > 20) {\n        newBuffer.shift();\n      }\n      const sentence = newBuffer.join(' ');\n      setDetectedText(sentence);\n      return newBuffer;\n    });\n  };\n  const startDetection = async () => {\n    if (!selectedModel) {\n      toast.error('Selecciona un modelo primero');\n      return;\n    }\n    setIsInitializing(true);\n    try {\n      if (!mediaPipeHandler.current) {\n        mediaPipeHandler.current = createMediaPipeHandler();\n      }\n      const success = await mediaPipeHandler.current.initialize(videoRef.current, canvasRef.current, onResults);\n      if (success) {\n        setIsActive(true);\n        setSessionStartTime(Date.now());\n        setSessionStats({\n          totalPredictions: 0,\n          avgConfidence: 0,\n          highConfidencePredictions: 0,\n          sessionDuration: 0\n        });\n        toast.success('Detección iniciada');\n      } else {\n        toast.error('Error al inicializar la cámara');\n      }\n    } catch (error) {\n      toast.error('Error al iniciar la detección');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n  const stopDetection = () => {\n    if (mediaPipeHandler.current) {\n      mediaPipeHandler.current.stop();\n      setIsActive(false);\n      setSessionStartTime(null);\n      setHandsDetected(false);\n      currentLandmarksRef.current = null;\n      if (predictionIntervalRef.current) {\n        clearInterval(predictionIntervalRef.current);\n        predictionIntervalRef.current = null;\n      }\n      toast.success('Detección detenida');\n    }\n  };\n  const toggleRecording = () => {\n    setIsRecording(!isRecording);\n    if (!isRecording) {\n      toast.success('Grabación iniciada');\n    } else {\n      toast.success(`Grabación guardada: \"${detectedText}\"`);\n    }\n  };\n  const clearText = () => {\n    setDetectedText('');\n    setPredictions([]);\n    setWordBuffer([]);\n    setCurrentPrediction('');\n    setConfidence(0);\n  };\n  const speakText = (text = detectedText) => {\n    if (text && 'speechSynthesis' in window) {\n      speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = 'es-ES';\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      speechSynthesis.speak(utterance);\n    }\n  };\n  const downloadSession = () => {\n    const sessionData = {\n      modelId: selectedModel,\n      detectedText,\n      predictions,\n      stats: sessionStats,\n      timestamp: new Date().toISOString()\n    };\n    const blob = new Blob([JSON.stringify(sessionData, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `session-${Date.now()}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n  const selectedModelData = models.find(m => m.id === selectedModel);\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(motion.h2, {\n        initial: {\n          opacity: 0,\n          y: -10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        className: \"text-4xl font-bold bg-gradient-to-r from-blue-500 to-indigo-500 bg-clip-text text-transparent mb-3\",\n        children: \"Usar Modelo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-lg\",\n        children: \"Detecta se\\xF1as en tiempo real con IA avanzada\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 xl:grid-cols-3 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: -20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"xl:col-span-1 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FiSettings, {\n              className: \"text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), \"Configuraci\\xF3n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Modelo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedModel,\n                onChange: e => setSelectedModel(e.target.value),\n                className: \"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecciona un modelo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this), models.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: model.id,\n                  children: model.name\n                }, model.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), selectedModelData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-blue-800 font-medium mb-1\",\n                children: \"Se\\xF1as disponibles:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1\",\n                children: [selectedModelData.signs.slice(0, 8).map(sign => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\",\n                  children: sign\n                }, sign, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this)), selectedModelData.signs.length > 8 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\",\n                  children: [\"+\", selectedModelData.signs.length - 8]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"Umbral de Confianza: \", (confidenceThreshold * 100).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0.3\",\n                max: \"0.95\",\n                step: \"0.05\",\n                value: confidenceThreshold,\n                onChange: e => setConfidenceThreshold(parseFloat(e.target.value)),\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"Delay de Predicci\\xF3n: \", predictionDelay, \"ms\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"100\",\n                max: \"1000\",\n                step: \"50\",\n                value: predictionDelay,\n                onChange: e => setPredictionDelay(parseInt(e.target.value)),\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: autoSpeak,\n                  onChange: e => setAutoSpeak(e.target.checked),\n                  className: \"w-4 h-4 text-blue-500 rounded focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: \"Hablar autom\\xE1ticamente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowPreview(!showPreview),\n                className: \"flex items-center gap-1 px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-sm\",\n                children: [showPreview ? /*#__PURE__*/_jsxDEV(FiEye, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 34\n                }, this) : /*#__PURE__*/_jsxDEV(FiEyeOff, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 46\n                }, this), showPreview ? 'Ocultar' : 'Mostrar']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.02\n            },\n            whileTap: {\n              scale: 0.98\n            },\n            onClick: isActive ? stopDetection : startDetection,\n            disabled: !selectedModel || isInitializing,\n            className: `flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${isActive ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-blue-500 text-white hover:bg-blue-600'} disabled:opacity-50 shadow-lg`,\n            children: isInitializing ? /*#__PURE__*/_jsxDEV(motion.div, {\n              animate: {\n                rotate: 360\n              },\n              transition: {\n                duration: 1,\n                repeat: Infinity\n              },\n              children: /*#__PURE__*/_jsxDEV(FiCamera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this) : isActive ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiCameraOff, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this), \"Detener\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiCamera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), \"Iniciar\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.02\n            },\n            whileTap: {\n              scale: 0.98\n            },\n            onClick: toggleRecording,\n            disabled: !isActive,\n            className: `flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${isRecording ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-green-500 text-white hover:bg-green-600'} disabled:opacity-50 shadow-lg`,\n            children: isRecording ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiSquare, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this), \"Parar\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiPlay, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), \"Grabar\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), isActive && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            scale: 0.95\n          },\n          animate: {\n            opacity: 1,\n            scale: 1\n          },\n          className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FiTarget, {\n              className: \"text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), \"Estad\\xEDsticas de Sesi\\xF3n\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-blue-600\",\n                children: sessionStats.totalPredictions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-blue-800\",\n                children: \"Predicciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-50 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: [(sessionStats.avgConfidence * 100).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-green-800\",\n                children: \"Confianza Prom.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-purple-50 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-purple-600\",\n                children: sessionStats.highConfidencePredictions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-purple-800\",\n                children: \"Alta Confianza\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-50 p-3 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-orange-600\",\n                children: formatTime(sessionStats.sessionDuration)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-orange-800\",\n                children: \"Tiempo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: currentPrediction && /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              scale: 0.9\n            },\n            animate: {\n              opacity: 1,\n              scale: 1\n            },\n            exit: {\n              opacity: 0,\n              scale: 0.9\n            },\n            className: `p-6 rounded-2xl border-2 ${confidence >= confidenceThreshold ? 'bg-gradient-to-br from-green-50 to-emerald-50 border-green-200' : confidence >= 0.5 ? 'bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200' : 'bg-gradient-to-br from-red-50 to-pink-50 border-red-200'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FiZap, {\n                className: \"text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), \"Detecci\\xF3n Actual\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-5xl font-bold text-gray-800 mb-3\",\n                children: currentPrediction\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-sm font-medium ${confidence >= confidenceThreshold ? 'text-green-600' : 'text-orange-600'}`,\n                children: [\"Confianza: \", (confidence * 100).toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-3 mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `h-3 rounded-full transition-all duration-300 ${confidence >= confidenceThreshold ? 'bg-green-500' : 'bg-orange-500'}`,\n                  style: {\n                    width: `${confidence * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"xl:col-span-2 space-y-6\",\n        children: [showPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-black rounded-2xl overflow-hidden shadow-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            className: \"hidden\",\n            autoPlay: true,\n            muted: true,\n            playsInline: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            className: \"w-full h-auto\",\n            width: 640,\n            height: 480\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n            children: [isActive && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0\n              },\n              animate: {\n                opacity: 1\n              },\n              exit: {\n                opacity: 0\n              },\n              className: \"absolute top-4 left-4 bg-green-600 text-white px-3 py-2 rounded-full text-sm font-semibold flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  scale: [1, 1.2, 1]\n                },\n                transition: {\n                  duration: 2,\n                  repeat: Infinity\n                },\n                className: \"w-2 h-2 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 21\n              }, this), \"EN VIVO\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 19\n            }, this), isRecording && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0\n              },\n              animate: {\n                opacity: 1\n              },\n              className: \"absolute top-4 right-4 bg-red-600 text-white px-3 py-2 rounded-full text-sm font-semibold flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  scale: [1, 1.2, 1]\n                },\n                transition: {\n                  duration: 1,\n                  repeat: Infinity\n                },\n                className: \"w-2 h-2 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 21\n              }, this), \"REC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 19\n            }, this), handsDetected && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                scale: 0.8\n              },\n              animate: {\n                opacity: 1,\n                scale: 1\n              },\n              className: \"absolute bottom-4 right-4 bg-blue-600 text-white px-3 py-2 rounded-full text-sm font-semibold\",\n              children: \"\\u270B Detectado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 19\n            }, this), currentPrediction && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0\n              },\n              animate: {\n                opacity: 1\n              },\n              className: \"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-4 py-2 rounded-lg backdrop-blur-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-bold text-xl\",\n                children: currentPrediction\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm opacity-80\",\n                children: [(confidence * 100).toFixed(0), \"% confianza\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this), !isActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-90 backdrop-blur-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-8xl mb-6\",\n                children: \"\\uD83C\\uDFAC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl mb-4\",\n                children: \"Listo para detectar se\\xF1as\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300\",\n                children: \"Inicia la detecci\\xF3n para comenzar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-800 text-lg\",\n                children: \"Texto Detectado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => speakText(),\n                  disabled: !detectedText,\n                  className: \"flex items-center gap-1 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 disabled:text-gray-400 px-3 py-2 rounded-lg transition-colors text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(FiVolume2, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 21\n                  }, this), \"Hablar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: downloadSession,\n                  disabled: !detectedText,\n                  className: \"flex items-center gap-1 bg-green-100 hover:bg-green-200 disabled:bg-gray-100 disabled:text-gray-400 px-3 py-2 rounded-lg transition-colors text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(FiDownload, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 628,\n                    columnNumber: 21\n                  }, this), \"Descargar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: clearText,\n                  className: \"flex items-center gap-1 bg-red-100 hover:bg-red-200 px-3 py-2 rounded-lg transition-colors text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(FiTrash2, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 635,\n                    columnNumber: 21\n                  }, this), \"Limpiar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-xl min-h-32 text-gray-700 leading-relaxed\",\n              children: detectedText || 'El texto detectado aparecerá aquí...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-800 mb-4 text-lg\",\n              children: \"Historial de Predicciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 max-h-80 overflow-y-auto\",\n              children: [predictions.slice(-10).reverse().map((pred, idx) => /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  x: 20\n                },\n                animate: {\n                  opacity: 1,\n                  x: 0\n                },\n                className: \"flex justify-between items-center bg-gray-50 p-3 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold text-lg text-gray-800\",\n                    children: pred.sign\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500\",\n                    children: new Date(pred.timestamp).toLocaleTimeString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-3 py-1 rounded-full text-xs font-medium ${pred.confidence >= confidenceThreshold ? 'bg-green-100 text-green-800' : pred.confidence >= 0.5 ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                    children: [(pred.confidence * 100).toFixed(0), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `w-3 h-3 rounded-full ${pred.confidence >= confidenceThreshold ? 'bg-green-500' : 'bg-yellow-500'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 677,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 21\n                }, this)]\n              }, `${pred.timestamp}-${idx}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 19\n              }, this)), predictions.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-gray-500 py-8\",\n                children: \"No hay predicciones a\\xFAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n};\n_s(ModelTester, \"d468bOqVw2f1nkAZSENJ4gA1fn0=\");\n_c = ModelTester;\nexport default ModelTester;\nvar _c;\n$RefreshReg$(_c, \"ModelTester\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","motion","AnimatePresence","FiCamera","FiCameraOff","FiPlay","FiSquare","FiDownload","FiTrash2","FiVolume2","FiEye","FiEyeOff","FiTarget","FiZap","FiSettings","toast","createMediaPipeHandler","api","jsxDEV","_jsxDEV","Fragment","_Fragment","ModelTester","models","_s","videoRef","canvasRef","mediaPipeHandler","predictionIntervalRef","currentLandmarksRef","selectedModel","setSelectedModel","isActive","setIsActive","predictions","setPredictions","currentPrediction","setCurrentPrediction","confidence","setConfidence","detectedText","setDetectedText","isInitializing","setIsInitializing","handsDetected","setHandsDetected","showPreview","setShowPreview","autoSpeak","setAutoSpeak","confidenceThreshold","setConfidenceThreshold","predictionDelay","setPredictionDelay","sessionStats","setSessionStats","totalPredictions","avgConfidence","highConfidencePredictions","sessionDuration","sessionStartTime","setSessionStartTime","isRecording","setIsRecording","wordBuffer","setWordBuffer","onResults","results","hasHands","multiHandLandmarks","length","landmarks","current","predictSign","response","post","modelId","map","l","x","y","z","prediction","conf","data","newPrediction","sign","timestamp","Date","now","prev","slice","newTotal","newAvg","newHigh","addToWordBuffer","speakText","error","console","interval","setInterval","duration","Math","floor","clearInterval","stop","word","newBuffer","shift","sentence","join","startDetection","success","initialize","stopDetection","toggleRecording","clearText","text","window","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","lang","rate","pitch","speak","downloadSession","sessionData","stats","toISOString","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","formatTime","seconds","mins","secs","toString","padStart","selectedModelData","find","m","id","div","initial","opacity","animate","className","children","h2","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","model","name","signs","toFixed","min","max","step","parseFloat","parseInt","checked","onClick","button","whileHover","scale","whileTap","disabled","rotate","transition","repeat","Infinity","exit","style","width","ref","autoPlay","muted","playsInline","height","reverse","pred","idx","toLocaleTimeString","_c","$RefreshReg$"],"sources":["C:/Users/gabo1/OneDrive/Escritorio/FinalProject/frontend/src/components/ModelTester.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { FiCamera, FiCameraOff, FiPlay, FiSquare, FiMic, FiMicOff, FiDownload, FiTrash2, FiVolume2, FiEye, FiEyeOff, FiTarget, FiZap, FiSettings } from 'react-icons/fi';\r\nimport toast from 'react-hot-toast';\r\nimport { MediaPipeHandler, createMediaPipeHandler } from '../utils/mediapipe';\r\nimport { Results } from '@mediapipe/hands';\r\nimport { api } from '../utils/api';\r\n\r\ninterface ModelTesterProps {\r\n  models: any[];\r\n}\r\n\r\nconst ModelTester: React.FC<ModelTesterProps> = ({ models }) => {\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const mediaPipeHandler = useRef<MediaPipeHandler | null>(null);\r\n  const predictionIntervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const currentLandmarksRef = useRef<any[] | null>(null);\r\n\r\n  const [selectedModel, setSelectedModel] = useState<string>('');\r\n  const [isActive, setIsActive] = useState<boolean>(false);\r\n  const [predictions, setPredictions] = useState<any[]>([]);\r\n  const [currentPrediction, setCurrentPrediction] = useState<string>('');\r\n  const [confidence, setConfidence] = useState<number>(0);\r\n  const [detectedText, setDetectedText] = useState<string>('');\r\n  const [isInitializing, setIsInitializing] = useState<boolean>(false);\r\n  const [handsDetected, setHandsDetected] = useState<boolean>(false);\r\n  const [showPreview, setShowPreview] = useState<boolean>(true);\r\n  const [autoSpeak, setAutoSpeak] = useState<boolean>(false);\r\n  const [confidenceThreshold, setConfidenceThreshold] = useState<number>(0.7);\r\n  const [predictionDelay, setPredictionDelay] = useState<number>(500);\r\n  const [sessionStats, setSessionStats] = useState({\r\n    totalPredictions: 0,\r\n    avgConfidence: 0,\r\n    highConfidencePredictions: 0,\r\n    sessionDuration: 0\r\n  });\r\n  const [sessionStartTime, setSessionStartTime] = useState<number | null>(null);\r\n  const [isRecording, setIsRecording] = useState<boolean>(false);\r\n  const [wordBuffer, setWordBuffer] = useState<string[]>([]);\r\n\r\n  const onResults = useCallback((results: Results): void => {\r\n    const hasHands = results.multiHandLandmarks && results.multiHandLandmarks.length > 0;\r\n    setHandsDetected(hasHands);\r\n    \r\n    if (hasHands) {\r\n      const landmarks = results.multiHandLandmarks[0];\r\n      if (landmarks && landmarks.length === 21) {\r\n        currentLandmarksRef.current = landmarks;\r\n      }\r\n    } else {\r\n      currentLandmarksRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  const predictSign = useCallback(async (): Promise<void> => {\r\n    if (!isActive || !selectedModel || !currentLandmarksRef.current) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.post('/prediction/predict', {\r\n        modelId: selectedModel,\r\n        landmarks: currentLandmarksRef.current.map((l: any) => ({ x: l.x, y: l.y, z: l.z }))\r\n      });\r\n\r\n      const { prediction, confidence: conf } = response.data;\r\n\r\n      if (conf >= confidenceThreshold) {\r\n        const newPrediction = {\r\n          sign: prediction,\r\n          confidence: conf,\r\n          timestamp: Date.now()\r\n        };\r\n\r\n        setCurrentPrediction(prediction);\r\n        setConfidence(conf);\r\n        setPredictions(prev => [...prev.slice(-19), newPrediction]);\r\n\r\n        setSessionStats(prev => {\r\n          const newTotal = prev.totalPredictions + 1;\r\n          const newAvg = (prev.avgConfidence * prev.totalPredictions + conf) / newTotal;\r\n          const newHigh = conf >= confidenceThreshold ? prev.highConfidencePredictions + 1 : prev.highConfidencePredictions;\r\n\r\n          return {\r\n            ...prev,\r\n            totalPredictions: newTotal,\r\n            avgConfidence: newAvg,\r\n            highConfidencePredictions: newHigh\r\n          };\r\n        });\r\n\r\n        addToWordBuffer(prediction);\r\n\r\n        if (autoSpeak) {\r\n          speakText(prediction);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error predicting sign:', error);\r\n    }\r\n  }, [isActive, selectedModel, confidenceThreshold, autoSpeak]);\r\n\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (isActive && sessionStartTime) {\r\n      interval = setInterval(() => {\r\n        const duration = Math.floor((Date.now() - sessionStartTime) / 1000);\r\n        setSessionStats(prev => ({ ...prev, sessionDuration: duration }));\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isActive, sessionStartTime]);\r\n\r\n  useEffect(() => {\r\n    if (isActive && selectedModel) {\r\n      predictionIntervalRef.current = setInterval(predictSign, predictionDelay);\r\n    } else if (predictionIntervalRef.current) {\r\n      clearInterval(predictionIntervalRef.current);\r\n      predictionIntervalRef.current = null;\r\n    }\r\n\r\n    return () => {\r\n      if (predictionIntervalRef.current) {\r\n        clearInterval(predictionIntervalRef.current);\r\n        predictionIntervalRef.current = null;\r\n      }\r\n    };\r\n  }, [isActive, selectedModel, predictionDelay, predictSign]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (mediaPipeHandler.current) {\r\n        mediaPipeHandler.current.stop();\r\n      }\r\n      if (predictionIntervalRef.current) {\r\n        clearInterval(predictionIntervalRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const addToWordBuffer = (word: string) => {\r\n    setWordBuffer(prev => {\r\n      const newBuffer = [...prev, word];\r\n      if (newBuffer.length > 20) {\r\n        newBuffer.shift();\r\n      }\r\n      const sentence = newBuffer.join(' ');\r\n      setDetectedText(sentence);\r\n      return newBuffer;\r\n    });\r\n  };\r\n\r\n  const startDetection = async (): Promise<void> => {\r\n    if (!selectedModel) {\r\n      toast.error('Selecciona un modelo primero');\r\n      return;\r\n    }\r\n\r\n    setIsInitializing(true);\r\n    try {\r\n      if (!mediaPipeHandler.current) {\r\n        mediaPipeHandler.current = createMediaPipeHandler();\r\n      }\r\n\r\n      const success = await mediaPipeHandler.current.initialize(\r\n        videoRef.current!,\r\n        canvasRef.current!,\r\n        onResults\r\n      );\r\n\r\n      if (success) {\r\n        setIsActive(true);\r\n        setSessionStartTime(Date.now());\r\n        setSessionStats({ totalPredictions: 0, avgConfidence: 0, highConfidencePredictions: 0, sessionDuration: 0 });\r\n        toast.success('Detección iniciada');\r\n      } else {\r\n        toast.error('Error al inicializar la cámara');\r\n      }\r\n    } catch (error) {\r\n      toast.error('Error al iniciar la detección');\r\n    } finally {\r\n      setIsInitializing(false);\r\n    }\r\n  };\r\n\r\n  const stopDetection = (): void => {\r\n    if (mediaPipeHandler.current) {\r\n      mediaPipeHandler.current.stop();\r\n      setIsActive(false);\r\n      setSessionStartTime(null);\r\n      setHandsDetected(false);\r\n      currentLandmarksRef.current = null;\r\n      \r\n      if (predictionIntervalRef.current) {\r\n        clearInterval(predictionIntervalRef.current);\r\n        predictionIntervalRef.current = null;\r\n      }\r\n      \r\n      toast.success('Detección detenida');\r\n    }\r\n  };\r\n\r\n  const toggleRecording = () => {\r\n    setIsRecording(!isRecording);\r\n    if (!isRecording) {\r\n      toast.success('Grabación iniciada');\r\n    } else {\r\n      toast.success(`Grabación guardada: \"${detectedText}\"`);\r\n    }\r\n  };\r\n\r\n  const clearText = (): void => {\r\n    setDetectedText('');\r\n    setPredictions([]);\r\n    setWordBuffer([]);\r\n    setCurrentPrediction('');\r\n    setConfidence(0);\r\n  };\r\n\r\n  const speakText = (text: string = detectedText): void => {\r\n    if (text && 'speechSynthesis' in window) {\r\n      speechSynthesis.cancel();\r\n      const utterance = new SpeechSynthesisUtterance(text);\r\n      utterance.lang = 'es-ES';\r\n      utterance.rate = 0.8;\r\n      utterance.pitch = 1;\r\n      speechSynthesis.speak(utterance);\r\n    }\r\n  };\r\n\r\n  const downloadSession = () => {\r\n    const sessionData = {\r\n      modelId: selectedModel,\r\n      detectedText,\r\n      predictions,\r\n      stats: sessionStats,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n    const blob = new Blob([JSON.stringify(sessionData, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `session-${Date.now()}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const selectedModelData = models.find(m => m.id === selectedModel);\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"space-y-8\"\r\n    >\r\n      <div className=\"text-center\">\r\n        <motion.h2\r\n          initial={{ opacity: 0, y: -10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"text-4xl font-bold bg-gradient-to-r from-blue-500 to-indigo-500 bg-clip-text text-transparent mb-3\"\r\n        >\r\n          Usar Modelo\r\n        </motion.h2>\r\n        <p className=\"text-gray-600 text-lg\">\r\n          Detecta señas en tiempo real con IA avanzada\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          className=\"xl:col-span-1 space-y-6\"\r\n        >\r\n          <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2\">\r\n              <FiSettings className=\"text-blue-500\" />\r\n              Configuración\r\n            </h3>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Modelo\r\n                </label>\r\n                <select\r\n                  value={selectedModel}\r\n                  onChange={(e) => setSelectedModel(e.target.value)}\r\n                  className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\r\n                >\r\n                  <option value=\"\">Selecciona un modelo</option>\r\n                  {models.map((model) => (\r\n                    <option key={model.id} value={model.id}>\r\n                      {model.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {selectedModelData && (\r\n                <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n                  <div className=\"text-sm text-blue-800 font-medium mb-1\">\r\n                    Señas disponibles:\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-1\">\r\n                    {selectedModelData.signs.slice(0, 8).map((sign: string) => (\r\n                      <span key={sign} className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\">\r\n                        {sign}\r\n                      </span>\r\n                    ))}\r\n                    {selectedModelData.signs.length > 8 && (\r\n                      <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\">\r\n                        +{selectedModelData.signs.length - 8}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Umbral de Confianza: {(confidenceThreshold * 100).toFixed(0)}%\r\n                </label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"0.3\"\r\n                  max=\"0.95\"\r\n                  step=\"0.05\"\r\n                  value={confidenceThreshold}\r\n                  onChange={(e) => setConfidenceThreshold(parseFloat(e.target.value))}\r\n                  className=\"w-full\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Delay de Predicción: {predictionDelay}ms\r\n                </label>\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"100\"\r\n                  max=\"1000\"\r\n                  step=\"50\"\r\n                  value={predictionDelay}\r\n                  onChange={(e) => setPredictionDelay(parseInt(e.target.value))}\r\n                  className=\"w-full\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <label className=\"flex items-center gap-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={autoSpeak}\r\n                    onChange={(e) => setAutoSpeak(e.target.checked)}\r\n                    className=\"w-4 h-4 text-blue-500 rounded focus:ring-blue-500\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-700\">Hablar automáticamente</span>\r\n                </label>\r\n\r\n                <button\r\n                  onClick={() => setShowPreview(!showPreview)}\r\n                  className=\"flex items-center gap-1 px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-sm\"\r\n                >\r\n                  {showPreview ? <FiEye /> : <FiEyeOff />}\r\n                  {showPreview ? 'Ocultar' : 'Mostrar'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={isActive ? stopDetection : startDetection}\r\n              disabled={!selectedModel || isInitializing}\r\n              className={`flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${\r\n                isActive\r\n                  ? 'bg-red-500 text-white hover:bg-red-600'\r\n                  : 'bg-blue-500 text-white hover:bg-blue-600'\r\n              } disabled:opacity-50 shadow-lg`}\r\n            >\r\n              {isInitializing ? (\r\n                <motion.div animate={{ rotate: 360 }} transition={{ duration: 1, repeat: Infinity }}>\r\n                  <FiCamera />\r\n                </motion.div>\r\n              ) : isActive ? (\r\n                <>\r\n                  <FiCameraOff />\r\n                  Detener\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FiCamera />\r\n                  Iniciar\r\n                </>\r\n              )}\r\n            </motion.button>\r\n\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={toggleRecording}\r\n              disabled={!isActive}\r\n              className={`flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${\r\n                isRecording\r\n                  ? 'bg-red-500 text-white hover:bg-red-600'\r\n                  : 'bg-green-500 text-white hover:bg-green-600'\r\n              } disabled:opacity-50 shadow-lg`}\r\n            >\r\n              {isRecording ? (\r\n                <>\r\n                  <FiSquare />\r\n                  Parar\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FiPlay />\r\n                  Grabar\r\n                </>\r\n              )}\r\n            </motion.button>\r\n          </div>\r\n\r\n          {isActive && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\"\r\n            >\r\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\">\r\n                <FiTarget className=\"text-blue-500\" />\r\n                Estadísticas de Sesión\r\n              </h3>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4 text-center\">\r\n                <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-blue-600\">\r\n                    {sessionStats.totalPredictions}\r\n                  </div>\r\n                  <div className=\"text-xs text-blue-800\">Predicciones</div>\r\n                </div>\r\n\r\n                <div className=\"bg-green-50 p-3 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-green-600\">\r\n                    {(sessionStats.avgConfidence * 100).toFixed(0)}%\r\n                  </div>\r\n                  <div className=\"text-xs text-green-800\">Confianza Prom.</div>\r\n                </div>\r\n\r\n                <div className=\"bg-purple-50 p-3 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-purple-600\">\r\n                    {sessionStats.highConfidencePredictions}\r\n                  </div>\r\n                  <div className=\"text-xs text-purple-800\">Alta Confianza</div>\r\n                </div>\r\n\r\n                <div className=\"bg-orange-50 p-3 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-orange-600\">\r\n                    {formatTime(sessionStats.sessionDuration)}\r\n                  </div>\r\n                  <div className=\"text-xs text-orange-800\">Tiempo</div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          <AnimatePresence>\r\n            {currentPrediction && (\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.9 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.9 }}\r\n                className={`p-6 rounded-2xl border-2 ${\r\n                  confidence >= confidenceThreshold\r\n                    ? 'bg-gradient-to-br from-green-50 to-emerald-50 border-green-200'\r\n                    : confidence >= 0.5\r\n                    ? 'bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200'\r\n                    : 'bg-gradient-to-br from-red-50 to-pink-50 border-red-200'\r\n                }`}\r\n              >\r\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2\">\r\n                  <FiZap className=\"text-blue-500\" />\r\n                  Detección Actual\r\n                </h3>\r\n\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-5xl font-bold text-gray-800 mb-3\">\r\n                    {currentPrediction}\r\n                  </div>\r\n                  <div className={`text-sm font-medium ${\r\n                    confidence >= confidenceThreshold ? 'text-green-600' : 'text-orange-600'\r\n                  }`}>\r\n                    Confianza: {(confidence * 100).toFixed(1)}%\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-3 mt-3\">\r\n                    <div\r\n                      className={`h-3 rounded-full transition-all duration-300 ${\r\n                        confidence >= confidenceThreshold ? 'bg-green-500' : 'bg-orange-500'\r\n                      }`}\r\n                      style={{ width: `${confidence * 100}%` }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          className=\"xl:col-span-2 space-y-6\"\r\n        >\r\n          {showPreview && (\r\n            <div className=\"relative bg-black rounded-2xl overflow-hidden shadow-2xl\">\r\n              <video\r\n                ref={videoRef}\r\n                className=\"hidden\"\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n              />\r\n              <canvas\r\n                ref={canvasRef}\r\n                className=\"w-full h-auto\"\r\n                width={640}\r\n                height={480}\r\n              />\r\n\r\n              <AnimatePresence>\r\n                {isActive && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"absolute top-4 left-4 bg-green-600 text-white px-3 py-2 rounded-full text-sm font-semibold flex items-center gap-2\"\r\n                  >\r\n                    <motion.div\r\n                      animate={{ scale: [1, 1.2, 1] }}\r\n                      transition={{ duration: 2, repeat: Infinity }}\r\n                      className=\"w-2 h-2 bg-white rounded-full\"\r\n                    />\r\n                    EN VIVO\r\n                  </motion.div>\r\n                )}\r\n\r\n                {isRecording && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"absolute top-4 right-4 bg-red-600 text-white px-3 py-2 rounded-full text-sm font-semibold flex items-center gap-2\"\r\n                  >\r\n                    <motion.div\r\n                      animate={{ scale: [1, 1.2, 1] }}\r\n                      transition={{ duration: 1, repeat: Infinity }}\r\n                      className=\"w-2 h-2 bg-white rounded-full\"\r\n                    />\r\n                    REC\r\n                  </motion.div>\r\n                )}\r\n\r\n                {handsDetected && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, scale: 0.8 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    className=\"absolute bottom-4 right-4 bg-blue-600 text-white px-3 py-2 rounded-full text-sm font-semibold\"\r\n                  >\r\n                    ✋ Detectado\r\n                  </motion.div>\r\n                )}\r\n\r\n                {currentPrediction && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-4 py-2 rounded-lg backdrop-blur-sm\"\r\n                  >\r\n                    <div className=\"font-bold text-xl\">{currentPrediction}</div>\r\n                    <div className=\"text-sm opacity-80\">\r\n                      {(confidence * 100).toFixed(0)}% confianza\r\n                    </div>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n\r\n              {!isActive && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-90 backdrop-blur-sm\">\r\n                  <div className=\"text-white text-center\">\r\n                    <div className=\"text-8xl mb-6\">🎬</div>\r\n                    <p className=\"text-xl mb-4\">Listo para detectar señas</p>\r\n                    <p className=\"text-gray-300\">Inicia la detección para comenzar</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"font-semibold text-gray-800 text-lg\">\r\n                  Texto Detectado\r\n                </h3>\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => speakText()}\r\n                    disabled={!detectedText}\r\n                    className=\"flex items-center gap-1 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 disabled:text-gray-400 px-3 py-2 rounded-lg transition-colors text-sm\"\r\n                  >\r\n                    <FiVolume2 />\r\n                    Hablar\r\n                  </button>\r\n                  <button\r\n                    onClick={downloadSession}\r\n                    disabled={!detectedText}\r\n                    className=\"flex items-center gap-1 bg-green-100 hover:bg-green-200 disabled:bg-gray-100 disabled:text-gray-400 px-3 py-2 rounded-lg transition-colors text-sm\"\r\n                  >\r\n                    <FiDownload />\r\n                    Descargar\r\n                  </button>\r\n                  <button\r\n                    onClick={clearText}\r\n                    className=\"flex items-center gap-1 bg-red-100 hover:bg-red-200 px-3 py-2 rounded-lg transition-colors text-sm\"\r\n                  >\r\n                    <FiTrash2 />\r\n                    Limpiar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-gray-50 p-4 rounded-xl min-h-32 text-gray-700 leading-relaxed\">\r\n                {detectedText || 'El texto detectado aparecerá aquí...'}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n              <h3 className=\"font-semibold text-gray-800 mb-4 text-lg\">\r\n                Historial de Predicciones\r\n              </h3>\r\n\r\n              <div className=\"space-y-2 max-h-80 overflow-y-auto\">\r\n                {predictions.slice(-10).reverse().map((pred, idx) => (\r\n                  <motion.div\r\n                    key={`${pred.timestamp}-${idx}`}\r\n                    initial={{ opacity: 0, x: 20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    className=\"flex justify-between items-center bg-gray-50 p-3 rounded-lg\"\r\n                  >\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <span className=\"font-bold text-lg text-gray-800\">\r\n                        {pred.sign}\r\n                      </span>\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {new Date(pred.timestamp).toLocaleTimeString()}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className={`px-3 py-1 rounded-full text-xs font-medium ${\r\n                        pred.confidence >= confidenceThreshold\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : pred.confidence >= 0.5\r\n                          ? 'bg-yellow-100 text-yellow-800'\r\n                          : 'bg-red-100 text-red-800'\r\n                      }`}>\r\n                        {(pred.confidence * 100).toFixed(0)}%\r\n                      </span>\r\n                      <div className={`w-3 h-3 rounded-full ${\r\n                        pred.confidence >= confidenceThreshold\r\n                          ? 'bg-green-500'\r\n                          : 'bg-yellow-500'\r\n                      }`} />\r\n                    </div>\r\n                  </motion.div>\r\n                ))}\r\n                {predictions.length === 0 && (\r\n                  <div className=\"text-center text-gray-500 py-8\">\r\n                    No hay predicciones aún\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default ModelTester;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}