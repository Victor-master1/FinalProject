{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\SE\\xD1AS_PY\\\\frontend\\\\src\\\\components\\\\ModelTrainer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Chart as ChartJS, CategoryScale, LinearScale, LineElement, PointElement, Title, Tooltip, Legend } from 'chart.js/auto';\nimport { Line } from 'react-chartjs-2';\nimport { FiCamera, FiCameraOff, FiPlay, FiSquare, FiTrash2, FiZap, FiEye, FiEyeOff } from 'react-icons/fi';\nimport toast from 'react-hot-toast';\nimport { createMediaPipeHandler } from '../utils/mediapipe';\nimport { api } from '../utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, LineElement, PointElement, Title, Tooltip, Legend);\nconst ModelTrainer = ({\n  models\n}) => {\n  _s();\n  var _recordedSamples, _recordedSamples$land;\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const mediaPipeHandler = useRef(null);\n  const lastCaptureTime = useRef(0);\n  const currentLandmarksRef = useRef(null);\n  const isRecordingRef = useRef(false);\n  const currentSignRef = useRef('');\n  const [selectedModel, setSelectedModel] = useState('');\n  const [currentSign, setCurrentSign] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordedSamples, setRecordedSamples] = useState([]);\n  const [trainingProgress, setTrainingProgress] = useState(null);\n  const [isTraining, setIsTraining] = useState(false);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [sampleCounts, setSampleCounts] = useState({});\n  const [captureCount, setCaptureCount] = useState(0);\n  const [handsDetected, setHandsDetected] = useState(false);\n  const [showPreview, setShowPreview] = useState(true);\n  const [autoCapture, setAutoCapture] = useState(true);\n  useEffect(() => {\n    isRecordingRef.current = isRecording;\n  }, [isRecording]);\n  useEffect(() => {\n    currentSignRef.current = currentSign;\n  }, [currentSign]);\n  useEffect(() => {\n    loadModelSamples();\n    return () => {\n      if (mediaPipeHandler.current) {\n        mediaPipeHandler.current.stop();\n      }\n    };\n  }, [selectedModel]);\n  const loadModelSamples = async () => {\n    if (!selectedModel) {\n      setSampleCounts({});\n      return;\n    }\n    try {\n      const response = await api.get(`/models/${selectedModel}`);\n      const model = response.data;\n      if (model.samples && model.samples.length > 0) {\n        const counts = {};\n        model.samples.forEach(sample => {\n          counts[sample.sign] = (counts[sample.sign] || 0) + 1;\n        });\n        setSampleCounts(counts);\n      } else {\n        setSampleCounts({});\n      }\n    } catch (error) {\n      console.error('Error loading model samples:', error);\n      setSampleCounts({});\n    }\n  };\n  const captureHandData = useCallback(() => {\n    const landmarks = currentLandmarksRef.current;\n    const recording = isRecordingRef.current;\n    const sign = currentSignRef.current;\n    if (!landmarks || !recording || !sign || !autoCapture) {\n      return;\n    }\n    const now = Date.now();\n    if (now - lastCaptureTime.current < 300) {\n      return;\n    }\n    lastCaptureTime.current = now;\n    const sample = {\n      landmarks: landmarks.map(l => ({\n        x: l.x,\n        y: l.y,\n        z: l.z\n      })),\n      sign: sign,\n      timestamp: now\n    };\n    setRecordedSamples(prev => {\n      const newSamples = [...prev, sample];\n      return newSamples;\n    });\n    setSampleCounts(prev => {\n      const newCount = (prev[sign] || 0) + 1;\n      return {\n        ...prev,\n        [sign]: newCount\n      };\n    });\n    setCaptureCount(prev => prev + 1);\n  }, [autoCapture]);\n  const onResults = useCallback(results => {\n    const hasHands = results.multiHandLandmarks && results.multiHandLandmarks.length > 0;\n    setHandsDetected(hasHands);\n    if (hasHands) {\n      const landmarks = results.multiHandLandmarks[0];\n      if (landmarks && landmarks.length === 21) {\n        currentLandmarksRef.current = landmarks;\n        if (isRecordingRef.current && currentSignRef.current) {\n          captureHandData();\n        }\n      }\n    } else {\n      currentLandmarksRef.current = null;\n    }\n  }, [captureHandData]);\n  const startCamera = async () => {\n    if (!videoRef.current || !canvasRef.current) {\n      toast.error('Elementos de video no disponibles');\n      return;\n    }\n    setIsInitializing(true);\n    try {\n      if (mediaPipeHandler.current) {\n        mediaPipeHandler.current.stop();\n      }\n      mediaPipeHandler.current = createMediaPipeHandler();\n      const success = await mediaPipeHandler.current.initialize(videoRef.current, canvasRef.current, onResults);\n      if (success) {\n        setCameraActive(true);\n        toast.success('Cámara iniciada correctamente');\n      } else {\n        toast.error('Error al inicializar la cámara');\n      }\n    } catch (error) {\n      console.error('Error starting camera:', error);\n      toast.error('Error al acceder a la cámara');\n    } finally {\n      setIsInitializing(false);\n    }\n  };\n  const stopCamera = () => {\n    if (mediaPipeHandler.current) {\n      mediaPipeHandler.current.stop();\n      setCameraActive(false);\n      setIsRecording(false);\n      setHandsDetected(false);\n      currentLandmarksRef.current = null;\n      toast.success('Cámara detenida');\n    }\n  };\n  const toggleRecording = () => {\n    if (!currentSign) {\n      toast.error('Selecciona una seña para grabar');\n      return;\n    }\n    if (!cameraActive) {\n      toast.error('Primero inicia la cámara');\n      return;\n    }\n    const newRecordingState = !isRecording;\n    setIsRecording(newRecordingState);\n    if (newRecordingState) {\n      setCaptureCount(0);\n      lastCaptureTime.current = 0;\n      toast.success(`Grabando seña: ${currentSign}`);\n    } else {\n      toast.success(`Grabación detenida. ${captureCount} muestras capturadas`);\n    }\n  };\n  const manualCapture = () => {\n    if (!currentSign || !handsDetected || !currentLandmarksRef.current) {\n      toast.error('Necesitas una seña seleccionada y una mano detectada');\n      return;\n    }\n    const sample = {\n      landmarks: currentLandmarksRef.current.map(l => ({\n        x: l.x,\n        y: l.y,\n        z: l.z\n      })),\n      sign: currentSign,\n      timestamp: Date.now()\n    };\n    setRecordedSamples(prev => [...prev, sample]);\n    setSampleCounts(prev => ({\n      ...prev,\n      [currentSign]: (prev[currentSign] || 0) + 1\n    }));\n    setCaptureCount(prev => prev + 1);\n    toast.success('Muestra capturada manualmente');\n  };\n  const clearCurrentSamples = () => {\n    setRecordedSamples([]);\n    setCaptureCount(0);\n    loadModelSamples();\n    toast.success('Muestras limpiadas');\n  };\n  const trainModel = async () => {\n    if (!selectedModel) {\n      toast.error('Selecciona un modelo');\n      return;\n    }\n    const totalSamples = recordedSamples.length;\n    if (totalSamples < 5) {\n      toast.error(`Necesitas al menos 5 muestras. Tienes ${totalSamples} muestras.`);\n      return;\n    }\n    setIsTraining(true);\n    const loadingToast = toast.loading('Entrenando modelo...');\n    try {\n      const response = await api.post('/training/train', {\n        modelId: selectedModel,\n        samples: recordedSamples\n      });\n      setTrainingProgress(response.data.progress);\n      setRecordedSamples([]);\n      setCaptureCount(0);\n      loadModelSamples();\n      toast.success(`Entrenamiento completado con ${totalSamples} muestras!`, {\n        id: loadingToast\n      });\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Training error:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error durante el entrenamiento';\n      toast.error(errorMessage, {\n        id: loadingToast\n      });\n    } finally {\n      setIsTraining(false);\n    }\n  };\n  const selectedModelData = models.find(m => m.id === selectedModel);\n  const chartData = trainingProgress ? {\n    labels: trainingProgress.epochs.map((_, idx) => `Época ${idx + 1}`),\n    datasets: [{\n      label: 'Precisión',\n      data: trainingProgress.accuracy,\n      borderColor: 'rgb(34, 197, 94)',\n      backgroundColor: 'rgba(34, 197, 94, 0.1)',\n      tension: 0.4\n    }, {\n      label: 'Pérdida',\n      data: trainingProgress.loss,\n      borderColor: 'rgb(239, 68, 68)',\n      backgroundColor: 'rgba(239, 68, 68, 0.1)',\n      tension: 0.4\n    }]\n  } : null;\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-bold text-gray-800 mb-3 bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent\",\n        children: \"Entrenar Modelo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-lg\",\n        children: \"Graba muestras de se\\xF1as y entrena tu modelo con IA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 xl:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: -20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 mb-4\",\n            children: \"Configuraci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Seleccionar Modelo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedModel,\n                onChange: e => setSelectedModel(e.target.value),\n                className: \"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecciona un modelo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this), models.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: model.id,\n                  children: model.name\n                }, model.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), selectedModelData && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Se\\xF1a Actual\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: currentSign,\n                onChange: e => setCurrentSign(e.target.value),\n                className: \"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Selecciona una se\\xF1a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this), selectedModelData.signs.map(sign => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: sign,\n                  children: sign\n                }, sign, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: autoCapture,\n                  onChange: e => setAutoCapture(e.target.checked),\n                  className: \"w-4 h-4 text-orange-500 rounded focus:ring-orange-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: \"Captura autom\\xE1tica\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowPreview(!showPreview),\n                className: \"flex items-center gap-2 px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\",\n                children: [showPreview ? /*#__PURE__*/_jsxDEV(FiEye, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 34\n                }, this) : /*#__PURE__*/_jsxDEV(FiEyeOff, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 46\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm\",\n                  children: showPreview ? 'Ocultar' : 'Mostrar'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.02\n            },\n            whileTap: {\n              scale: 0.98\n            },\n            onClick: cameraActive ? stopCamera : startCamera,\n            disabled: isInitializing,\n            className: `flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${cameraActive ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-blue-500 text-white hover:bg-blue-600'} disabled:opacity-50 shadow-lg`,\n            children: isInitializing ? /*#__PURE__*/_jsxDEV(motion.div, {\n              animate: {\n                rotate: 360\n              },\n              transition: {\n                duration: 1,\n                repeat: Infinity\n              },\n              children: /*#__PURE__*/_jsxDEV(FiCamera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this) : cameraActive ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiCameraOff, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this), \"Detener\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiCamera, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), \"Iniciar C\\xE1mara\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.02\n            },\n            whileTap: {\n              scale: 0.98\n            },\n            onClick: toggleRecording,\n            disabled: !cameraActive || !currentSign,\n            className: `flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${isRecording ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-green-500 text-white hover:bg-green-600'} disabled:opacity-50 shadow-lg`,\n            children: isRecording ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiSquare, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), \"Parar\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiPlay, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), \"Grabar\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), !autoCapture && cameraActive && currentSign && /*#__PURE__*/_jsxDEV(motion.button, {\n          initial: {\n            opacity: 0,\n            y: 10\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          onClick: manualCapture,\n          disabled: !handsDetected,\n          className: \"w-full bg-purple-500 text-white py-3 px-6 rounded-xl font-semibold hover:bg-purple-600 disabled:opacity-50 transition-all shadow-lg flex items-center justify-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(FiZap, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this), \"Capturar Manualmente\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: cameraActive && /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              scale: 0.95\n            },\n            animate: {\n              opacity: 1,\n              scale: 1\n            },\n            exit: {\n              opacity: 0,\n              scale: 0.95\n            },\n            className: `p-4 rounded-xl border-2 ${handsDetected ? 'bg-green-50 border-green-200' : 'bg-yellow-50 border-yellow-200'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `font-semibold ${handsDetected ? 'text-green-600' : 'text-yellow-600'}`,\n                children: handsDetected ? '✅ Mano detectada' : '⚠️ Pon tu mano frente a la cámara'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this), handsDetected && isRecording && autoCapture && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-green-500 mt-1\",\n                children: \"Capturando autom\\xE1ticamente cada 300ms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: isRecording && /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              scale: 0.95\n            },\n            animate: {\n              opacity: 1,\n              scale: 1\n            },\n            exit: {\n              opacity: 0,\n              scale: 0.95\n            },\n            className: \"bg-red-50 border-2 border-red-200 rounded-xl p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-red-600 font-semibold flex items-center justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                  animate: {\n                    scale: [1, 1.2, 1]\n                  },\n                  transition: {\n                    duration: 1,\n                    repeat: Infinity\n                  },\n                  className: \"w-3 h-3 bg-red-500 rounded-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this), \"GRABANDO: \", currentSign]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-red-500 mt-1\",\n                children: [\"Muestras capturadas: \", captureCount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-800\",\n              children: \"Estado de Muestras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              onClick: clearCurrentSamples,\n              disabled: recordedSamples.length === 0,\n              className: \"flex items-center gap-2 text-sm bg-red-100 hover:bg-red-200 disabled:bg-gray-100 disabled:text-gray-400 px-3 py-2 rounded-lg transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(FiTrash2, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 17\n              }, this), \"Limpiar (\", recordedSamples.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 p-3 bg-blue-50 rounded-xl\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium text-blue-800\",\n              children: [\"Muestras nuevas: \", recordedSamples.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), recordedSamples.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-blue-600 mt-1\",\n              children: [\"\\xDAltima: \", currentSign, \" (\", ((_recordedSamples = recordedSamples[recordedSamples.length - 1]) === null || _recordedSamples === void 0 ? void 0 : (_recordedSamples$land = _recordedSamples.landmarks) === null || _recordedSamples$land === void 0 ? void 0 : _recordedSamples$land.length) || 0, \" puntos)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 max-h-64 overflow-y-auto\",\n            children: selectedModelData && selectedModelData.signs.map(sign => {\n              const totalSamples = sampleCounts[sign] || 0;\n              const newSamples = recordedSamples.filter(s => s.sign === sign).length;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center p-3 bg-gray-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: sign\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-3 py-1 rounded-full text-sm ${totalSamples >= 10 ? 'bg-green-100 text-green-800' : totalSamples >= 5 ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-600'}`,\n                    children: [\"DB: \", totalSamples]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 23\n                  }, this), newSamples > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800\",\n                    children: [\"+\", newSamples]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 21\n                }, this)]\n              }, sign, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.02\n          },\n          whileTap: {\n            scale: 0.98\n          },\n          onClick: trainModel,\n          disabled: isTraining || recordedSamples.length < 5,\n          className: \"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 px-6 rounded-xl font-semibold hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg flex items-center justify-center gap-3\",\n          children: isTraining ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(motion.div, {\n              animate: {\n                rotate: 360\n              },\n              transition: {\n                duration: 1,\n                repeat: Infinity\n              },\n              children: /*#__PURE__*/_jsxDEV(FiZap, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this), \"Entrenando...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FiZap, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 17\n            }, this), \"Entrenar Modelo (\", recordedSamples.length, \" nuevas)\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this), recordedSamples.length < 5 && recordedSamples.length > 0 && /*#__PURE__*/_jsxDEV(motion.p, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          className: \"text-sm text-orange-600 text-center bg-orange-50 p-3 rounded-xl\",\n          children: [\"Necesitas \", 5 - recordedSamples.length, \" muestras m\\xE1s para entrenar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"space-y-6\",\n        children: [showPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-black rounded-2xl overflow-hidden shadow-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            className: \"hidden\",\n            autoPlay: true,\n            muted: true,\n            playsInline: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            className: \"w-full h-auto\",\n            width: 640,\n            height: 480\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n            children: [isRecording && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0\n              },\n              animate: {\n                opacity: 1\n              },\n              exit: {\n                opacity: 0\n              },\n              className: \"absolute top-4 left-4 bg-red-600 text-white px-3 py-2 rounded-full text-sm font-semibold flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  scale: [1, 1.2, 1]\n                },\n                transition: {\n                  duration: 1,\n                  repeat: Infinity\n                },\n                className: \"w-2 h-2 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 21\n              }, this), \"REC - \", captureCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 19\n            }, this), cameraActive && currentSign && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0\n              },\n              animate: {\n                opacity: 1\n              },\n              className: \"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg backdrop-blur-sm\",\n              children: [\"Se\\xF1a: \", currentSign]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 19\n            }, this), handsDetected && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                scale: 0.8\n              },\n              animate: {\n                opacity: 1,\n                scale: 1\n              },\n              className: \"absolute top-4 right-4 bg-green-600 text-white px-3 py-2 rounded-full text-sm font-semibold\",\n              children: \"\\u2705 Detectado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this), !cameraActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-80 backdrop-blur-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-white text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-6xl mb-4\",\n                children: \"\\uD83D\\uDCF9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg\",\n                children: \"Inicia la c\\xE1mara para comenzar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this), trainingProgress && chartData && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          className: \"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-800 mb-4\",\n            children: \"Progreso del Entrenamiento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-64\",\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: chartData,\n              options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: {\n                    position: 'top'\n                  }\n                },\n                scales: {\n                  y: {\n                    beginAtZero: true\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n_s(ModelTrainer, \"g8/DveDZ8PYs3bdeiGA1fWR4UG0=\");\n_c = ModelTrainer;\nexport default ModelTrainer;\nvar _c;\n$RefreshReg$(_c, \"ModelTrainer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","motion","AnimatePresence","Chart","ChartJS","CategoryScale","LinearScale","LineElement","PointElement","Title","Tooltip","Legend","Line","FiCamera","FiCameraOff","FiPlay","FiSquare","FiTrash2","FiZap","FiEye","FiEyeOff","toast","createMediaPipeHandler","api","jsxDEV","_jsxDEV","Fragment","_Fragment","register","ModelTrainer","models","_s","_recordedSamples","_recordedSamples$land","videoRef","canvasRef","mediaPipeHandler","lastCaptureTime","currentLandmarksRef","isRecordingRef","currentSignRef","selectedModel","setSelectedModel","currentSign","setCurrentSign","isRecording","setIsRecording","recordedSamples","setRecordedSamples","trainingProgress","setTrainingProgress","isTraining","setIsTraining","cameraActive","setCameraActive","isInitializing","setIsInitializing","sampleCounts","setSampleCounts","captureCount","setCaptureCount","handsDetected","setHandsDetected","showPreview","setShowPreview","autoCapture","setAutoCapture","current","loadModelSamples","stop","response","get","model","data","samples","length","counts","forEach","sample","sign","error","console","captureHandData","landmarks","recording","now","Date","map","l","x","y","z","timestamp","prev","newSamples","newCount","onResults","results","hasHands","multiHandLandmarks","startCamera","success","initialize","stopCamera","toggleRecording","newRecordingState","manualCapture","clearCurrentSamples","trainModel","totalSamples","loadingToast","loading","post","modelId","progress","id","_error$response","_error$response$data","errorMessage","selectedModelData","find","m","chartData","labels","epochs","_","idx","datasets","label","accuracy","borderColor","backgroundColor","tension","loss","div","initial","opacity","animate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","name","signs","type","checked","onClick","button","whileHover","scale","whileTap","disabled","rotate","transition","duration","repeat","Infinity","exit","filter","s","p","ref","autoPlay","muted","playsInline","width","height","options","responsive","maintainAspectRatio","plugins","legend","position","scales","beginAtZero","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/SEÑAS_PY/frontend/src/components/ModelTrainer.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, LineElement, PointElement, Title, Tooltip, Legend } from 'chart.js/auto';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { FiCamera, FiCameraOff, FiPlay, FiSquare, FiTrash2, FiZap, FiEye, FiEyeOff } from 'react-icons/fi';\r\nimport toast from 'react-hot-toast';\r\nimport { MediaPipeHandler, createMediaPipeHandler } from '../utils/mediapipe';\r\nimport { Results } from '@mediapipe/hands';\r\nimport { api } from '../utils/api';\r\n\r\nChartJS.register(CategoryScale, LinearScale, LineElement, PointElement, Title, Tooltip, Legend);\r\n\r\ninterface ModelTrainerProps {\r\n  models: any[];\r\n}\r\n\r\nconst ModelTrainer: React.FC<ModelTrainerProps> = ({ models }) => {\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const mediaPipeHandler = useRef<MediaPipeHandler | null>(null);\r\n  const lastCaptureTime = useRef<number>(0);\r\n  const currentLandmarksRef = useRef<any[] | null>(null);\r\n  const isRecordingRef = useRef<boolean>(false);\r\n  const currentSignRef = useRef<string>('');\r\n\r\n  const [selectedModel, setSelectedModel] = useState<string>('');\r\n  const [currentSign, setCurrentSign] = useState<string>('');\r\n  const [isRecording, setIsRecording] = useState<boolean>(false);\r\n  const [recordedSamples, setRecordedSamples] = useState<any[]>([]);\r\n  const [trainingProgress, setTrainingProgress] = useState<any>(null);\r\n  const [isTraining, setIsTraining] = useState<boolean>(false);\r\n  const [cameraActive, setCameraActive] = useState<boolean>(false);\r\n  const [isInitializing, setIsInitializing] = useState<boolean>(false);\r\n  const [sampleCounts, setSampleCounts] = useState<{[key: string]: number}>({});\r\n  const [captureCount, setCaptureCount] = useState<number>(0);\r\n  const [handsDetected, setHandsDetected] = useState<boolean>(false);\r\n  const [showPreview, setShowPreview] = useState<boolean>(true);\r\n  const [autoCapture, setAutoCapture] = useState<boolean>(true);\r\n\r\n  useEffect(() => {\r\n    isRecordingRef.current = isRecording;\r\n  }, [isRecording]);\r\n\r\n  useEffect(() => {\r\n    currentSignRef.current = currentSign;\r\n  }, [currentSign]);\r\n\r\n  useEffect(() => {\r\n    loadModelSamples();\r\n    return () => {\r\n      if (mediaPipeHandler.current) {\r\n        mediaPipeHandler.current.stop();\r\n      }\r\n    };\r\n  }, [selectedModel]);\r\n\r\n  const loadModelSamples = async () => {\r\n    if (!selectedModel) {\r\n      setSampleCounts({});\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.get(`/models/${selectedModel}`);\r\n      const model = response.data;\r\n     \r\n      if (model.samples && model.samples.length > 0) {\r\n        const counts: {[key: string]: number} = {};\r\n        model.samples.forEach((sample: any) => {\r\n          counts[sample.sign] = (counts[sample.sign] || 0) + 1;\r\n        });\r\n        setSampleCounts(counts);\r\n      } else {\r\n        setSampleCounts({});\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading model samples:', error);\r\n      setSampleCounts({});\r\n    }\r\n  };\r\n\r\n  const captureHandData = useCallback((): void => {\r\n    const landmarks = currentLandmarksRef.current;\r\n    const recording = isRecordingRef.current;\r\n    const sign = currentSignRef.current;\r\n\r\n    if (!landmarks || !recording || !sign || !autoCapture) {\r\n      return;\r\n    }\r\n\r\n    const now = Date.now();\r\n    if (now - lastCaptureTime.current < 300) {\r\n      return;\r\n    }\r\n\r\n    lastCaptureTime.current = now;\r\n\r\n    const sample = {\r\n      landmarks: landmarks.map(l => ({ x: l.x, y: l.y, z: l.z })),\r\n      sign: sign,\r\n      timestamp: now\r\n    };\r\n\r\n    setRecordedSamples(prev => {\r\n      const newSamples = [...prev, sample];\r\n      return newSamples;\r\n    });\r\n\r\n    setSampleCounts(prev => {\r\n      const newCount = (prev[sign] || 0) + 1;\r\n      return {\r\n        ...prev,\r\n        [sign]: newCount\r\n      };\r\n    });\r\n\r\n    setCaptureCount(prev => prev + 1);\r\n  }, [autoCapture]);\r\n\r\n  const onResults = useCallback((results: Results): void => {\r\n    const hasHands = results.multiHandLandmarks && results.multiHandLandmarks.length > 0;\r\n    setHandsDetected(hasHands);\r\n   \r\n    if (hasHands) {\r\n      const landmarks = results.multiHandLandmarks[0];\r\n      if (landmarks && landmarks.length === 21) {\r\n        currentLandmarksRef.current = landmarks;\r\n        if (isRecordingRef.current && currentSignRef.current) {\r\n          captureHandData();\r\n        }\r\n      }\r\n    } else {\r\n      currentLandmarksRef.current = null;\r\n    }\r\n  }, [captureHandData]);\r\n\r\n  const startCamera = async (): Promise<void> => {\r\n    if (!videoRef.current || !canvasRef.current) {\r\n      toast.error('Elementos de video no disponibles');\r\n      return;\r\n    }\r\n\r\n    setIsInitializing(true);\r\n   \r\n    try {\r\n      if (mediaPipeHandler.current) {\r\n        mediaPipeHandler.current.stop();\r\n      }\r\n     \r\n      mediaPipeHandler.current = createMediaPipeHandler();\r\n     \r\n      const success = await mediaPipeHandler.current.initialize(\r\n        videoRef.current,\r\n        canvasRef.current,\r\n        onResults\r\n      );\r\n     \r\n      if (success) {\r\n        setCameraActive(true);\r\n        toast.success('Cámara iniciada correctamente');\r\n      } else {\r\n        toast.error('Error al inicializar la cámara');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting camera:', error);\r\n      toast.error('Error al acceder a la cámara');\r\n    } finally {\r\n      setIsInitializing(false);\r\n    }\r\n  };\r\n\r\n  const stopCamera = (): void => {\r\n    if (mediaPipeHandler.current) {\r\n      mediaPipeHandler.current.stop();\r\n      setCameraActive(false);\r\n      setIsRecording(false);\r\n      setHandsDetected(false);\r\n      currentLandmarksRef.current = null;\r\n      toast.success('Cámara detenida');\r\n    }\r\n  };\r\n\r\n  const toggleRecording = (): void => {\r\n    if (!currentSign) {\r\n      toast.error('Selecciona una seña para grabar');\r\n      return;\r\n    }\r\n    if (!cameraActive) {\r\n      toast.error('Primero inicia la cámara');\r\n      return;\r\n    }\r\n   \r\n    const newRecordingState = !isRecording;\r\n    setIsRecording(newRecordingState);\r\n   \r\n    if (newRecordingState) {\r\n      setCaptureCount(0);\r\n      lastCaptureTime.current = 0;\r\n      toast.success(`Grabando seña: ${currentSign}`);\r\n    } else {\r\n      toast.success(`Grabación detenida. ${captureCount} muestras capturadas`);\r\n    }\r\n  };\r\n\r\n  const manualCapture = (): void => {\r\n    if (!currentSign || !handsDetected || !currentLandmarksRef.current) {\r\n      toast.error('Necesitas una seña seleccionada y una mano detectada');\r\n      return;\r\n    }\r\n\r\n    const sample = {\r\n      landmarks: currentLandmarksRef.current.map(l => ({ x: l.x, y: l.y, z: l.z })),\r\n      sign: currentSign,\r\n      timestamp: Date.now()\r\n    };\r\n\r\n    setRecordedSamples(prev => [...prev, sample]);\r\n    setSampleCounts(prev => ({\r\n      ...prev,\r\n      [currentSign]: (prev[currentSign] || 0) + 1\r\n    }));\r\n    setCaptureCount(prev => prev + 1);\r\n    \r\n    toast.success('Muestra capturada manualmente');\r\n  };\r\n\r\n  const clearCurrentSamples = () => {\r\n    setRecordedSamples([]);\r\n    setCaptureCount(0);\r\n    loadModelSamples();\r\n    toast.success('Muestras limpiadas');\r\n  };\r\n\r\n  const trainModel = async (): Promise<void> => {\r\n    if (!selectedModel) {\r\n      toast.error('Selecciona un modelo');\r\n      return;\r\n    }\r\n\r\n    const totalSamples = recordedSamples.length;\r\n    if (totalSamples < 5) {\r\n      toast.error(`Necesitas al menos 5 muestras. Tienes ${totalSamples} muestras.`);\r\n      return;\r\n    }\r\n\r\n    setIsTraining(true);\r\n    \r\n    const loadingToast = toast.loading('Entrenando modelo...');\r\n    \r\n    try {\r\n      const response = await api.post('/training/train', {\r\n        modelId: selectedModel,\r\n        samples: recordedSamples\r\n      });\r\n      \r\n      setTrainingProgress(response.data.progress);\r\n      setRecordedSamples([]);\r\n      setCaptureCount(0);\r\n      loadModelSamples();\r\n      \r\n      toast.success(`Entrenamiento completado con ${totalSamples} muestras!`, { id: loadingToast });\r\n    } catch (error: any) {\r\n      console.error('Training error:', error);\r\n      const errorMessage = error.response?.data?.error || 'Error durante el entrenamiento';\r\n      toast.error(errorMessage, { id: loadingToast });\r\n    } finally {\r\n      setIsTraining(false);\r\n    }\r\n  };\r\n\r\n  const selectedModelData = models.find(m => m.id === selectedModel);\r\n\r\n  const chartData = trainingProgress ? {\r\n    labels: trainingProgress.epochs.map((_: any, idx: number) => `Época ${idx + 1}`),\r\n    datasets: [\r\n      {\r\n        label: 'Precisión',\r\n        data: trainingProgress.accuracy,\r\n        borderColor: 'rgb(34, 197, 94)',\r\n        backgroundColor: 'rgba(34, 197, 94, 0.1)',\r\n        tension: 0.4,\r\n      },\r\n      {\r\n        label: 'Pérdida',\r\n        data: trainingProgress.loss,\r\n        borderColor: 'rgb(239, 68, 68)',\r\n        backgroundColor: 'rgba(239, 68, 68, 0.1)',\r\n        tension: 0.4,\r\n      }\r\n    ]\r\n  } : null;\r\n\r\n  return (\r\n    <motion.div \r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"space-y-8\"\r\n    >\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-4xl font-bold text-gray-800 mb-3 bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent\">\r\n          Entrenar Modelo\r\n        </h2>\r\n        <p className=\"text-gray-600 text-lg\">\r\n          Graba muestras de señas y entrena tu modelo con IA\r\n        </p>\r\n      </div>\r\n     \r\n      <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\r\n        <motion.div \r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          className=\"space-y-6\"\r\n        >\r\n          <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">Configuración</h3>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Seleccionar Modelo\r\n                </label>\r\n                <select\r\n                  value={selectedModel}\r\n                  onChange={(e) => setSelectedModel(e.target.value)}\r\n                  className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all\"\r\n                >\r\n                  <option value=\"\">Selecciona un modelo</option>\r\n                  {models.map((model) => (\r\n                    <option key={model.id} value={model.id}>\r\n                      {model.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {selectedModelData && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Seña Actual\r\n                  </label>\r\n                  <select\r\n                    value={currentSign}\r\n                    onChange={(e) => setCurrentSign(e.target.value)}\r\n                    className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all\"\r\n                  >\r\n                    <option value=\"\">Selecciona una seña</option>\r\n                    {selectedModelData.signs.map((sign: string) => (\r\n                      <option key={sign} value={sign}>\r\n                        {sign}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex items-center gap-4\">\r\n                <label className=\"flex items-center gap-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={autoCapture}\r\n                    onChange={(e) => setAutoCapture(e.target.checked)}\r\n                    className=\"w-4 h-4 text-orange-500 rounded focus:ring-orange-500\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-700\">Captura automática</span>\r\n                </label>\r\n                \r\n                <button\r\n                  onClick={() => setShowPreview(!showPreview)}\r\n                  className=\"flex items-center gap-2 px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                >\r\n                  {showPreview ? <FiEye /> : <FiEyeOff />}\r\n                  <span className=\"text-sm\">{showPreview ? 'Ocultar' : 'Mostrar'}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={cameraActive ? stopCamera : startCamera}\r\n              disabled={isInitializing}\r\n              className={`flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${\r\n                cameraActive\r\n                  ? 'bg-red-500 text-white hover:bg-red-600'\r\n                  : 'bg-blue-500 text-white hover:bg-blue-600'\r\n              } disabled:opacity-50 shadow-lg`}\r\n            >\r\n              {isInitializing ? (\r\n                <motion.div animate={{ rotate: 360 }} transition={{ duration: 1, repeat: Infinity }}>\r\n                  <FiCamera />\r\n                </motion.div>\r\n              ) : cameraActive ? (\r\n                <>\r\n                  <FiCameraOff />\r\n                  Detener\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FiCamera />\r\n                  Iniciar Cámara\r\n                </>\r\n              )}\r\n            </motion.button>\r\n\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={toggleRecording}\r\n              disabled={!cameraActive || !currentSign}\r\n              className={`flex items-center justify-center gap-3 py-4 px-6 rounded-xl font-semibold transition-all ${\r\n                isRecording\r\n                  ? 'bg-red-500 text-white hover:bg-red-600'\r\n                  : 'bg-green-500 text-white hover:bg-green-600'\r\n              } disabled:opacity-50 shadow-lg`}\r\n            >\r\n              {isRecording ? (\r\n                <>\r\n                  <FiSquare />\r\n                  Parar\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FiPlay />\r\n                  Grabar\r\n                </>\r\n              )}\r\n            </motion.button>\r\n          </div>\r\n\r\n          {!autoCapture && cameraActive && currentSign && (\r\n            <motion.button\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              onClick={manualCapture}\r\n              disabled={!handsDetected}\r\n              className=\"w-full bg-purple-500 text-white py-3 px-6 rounded-xl font-semibold hover:bg-purple-600 disabled:opacity-50 transition-all shadow-lg flex items-center justify-center gap-3\"\r\n            >\r\n              <FiZap />\r\n              Capturar Manualmente\r\n            </motion.button>\r\n          )}\r\n\r\n          <AnimatePresence>\r\n            {cameraActive && (\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.95 }}\r\n                className={`p-4 rounded-xl border-2 ${\r\n                  handsDetected \r\n                    ? 'bg-green-50 border-green-200' \r\n                    : 'bg-yellow-50 border-yellow-200'\r\n                }`}\r\n              >\r\n                <div className=\"text-center\">\r\n                  <div className={`font-semibold ${\r\n                    handsDetected ? 'text-green-600' : 'text-yellow-600'\r\n                  }`}>\r\n                    {handsDetected ? '✅ Mano detectada' : '⚠️ Pon tu mano frente a la cámara'}\r\n                  </div>\r\n                  {handsDetected && isRecording && autoCapture && (\r\n                    <div className=\"text-sm text-green-500 mt-1\">\r\n                      Capturando automáticamente cada 300ms\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          <AnimatePresence>\r\n            {isRecording && (\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.95 }}\r\n                className=\"bg-red-50 border-2 border-red-200 rounded-xl p-4\"\r\n              >\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-red-600 font-semibold flex items-center justify-center gap-2\">\r\n                    <motion.div\r\n                      animate={{ scale: [1, 1.2, 1] }}\r\n                      transition={{ duration: 1, repeat: Infinity }}\r\n                      className=\"w-3 h-3 bg-red-500 rounded-full\"\r\n                    />\r\n                    GRABANDO: {currentSign}\r\n                  </div>\r\n                  <div className=\"text-sm text-red-500 mt-1\">\r\n                    Muestras capturadas: {captureCount}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          <div className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"font-semibold text-gray-800\">Estado de Muestras</h3>\r\n              <motion.button\r\n                whileHover={{ scale: 1.05 }}\r\n                whileTap={{ scale: 0.95 }}\r\n                onClick={clearCurrentSamples}\r\n                disabled={recordedSamples.length === 0}\r\n                className=\"flex items-center gap-2 text-sm bg-red-100 hover:bg-red-200 disabled:bg-gray-100 disabled:text-gray-400 px-3 py-2 rounded-lg transition-colors\"\r\n              >\r\n                <FiTrash2 />\r\n                Limpiar ({recordedSamples.length})\r\n              </motion.button>\r\n            </div>\r\n\r\n            <div className=\"mb-4 p-3 bg-blue-50 rounded-xl\">\r\n              <div className=\"text-sm font-medium text-blue-800\">\r\n                Muestras nuevas: {recordedSamples.length}\r\n              </div>\r\n              {recordedSamples.length > 0 && (\r\n                <div className=\"text-xs text-blue-600 mt-1\">\r\n                  Última: {currentSign} ({recordedSamples[recordedSamples.length - 1]?.landmarks?.length || 0} puntos)\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"space-y-3 max-h-64 overflow-y-auto\">\r\n              {selectedModelData && selectedModelData.signs.map((sign: string) => {\r\n                const totalSamples = sampleCounts[sign] || 0;\r\n                const newSamples = recordedSamples.filter(s => s.sign === sign).length;\r\n                return (\r\n                  <div key={sign} className=\"flex justify-between items-center p-3 bg-gray-50 rounded-lg\">\r\n                    <span className=\"font-medium text-gray-700\">{sign}</span>\r\n                    <div className=\"flex gap-2\">\r\n                      <span className={`px-3 py-1 rounded-full text-sm ${\r\n                        totalSamples >= 10\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : totalSamples >= 5\r\n                          ? 'bg-yellow-100 text-yellow-800'\r\n                          : 'bg-gray-100 text-gray-600'\r\n                      }`}>\r\n                        DB: {totalSamples}\r\n                      </span>\r\n                      {newSamples > 0 && (\r\n                        <span className=\"px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800\">\r\n                          +{newSamples}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.02 }}\r\n            whileTap={{ scale: 0.98 }}\r\n            onClick={trainModel}\r\n            disabled={isTraining || recordedSamples.length < 5}\r\n            className=\"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 px-6 rounded-xl font-semibold hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg flex items-center justify-center gap-3\"\r\n          >\r\n            {isTraining ? (\r\n              <>\r\n                <motion.div animate={{ rotate: 360 }} transition={{ duration: 1, repeat: Infinity }}>\r\n                  <FiZap />\r\n                </motion.div>\r\n                Entrenando...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <FiZap />\r\n                Entrenar Modelo ({recordedSamples.length} nuevas)\r\n              </>\r\n            )}\r\n          </motion.button>\r\n\r\n          {recordedSamples.length < 5 && recordedSamples.length > 0 && (\r\n            <motion.p \r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              className=\"text-sm text-orange-600 text-center bg-orange-50 p-3 rounded-xl\"\r\n            >\r\n              Necesitas {5 - recordedSamples.length} muestras más para entrenar\r\n            </motion.p>\r\n          )}\r\n        </motion.div>\r\n\r\n        <motion.div \r\n          initial={{ opacity: 0, x: 20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          className=\"space-y-6\"\r\n        >\r\n          {showPreview && (\r\n            <div className=\"relative bg-black rounded-2xl overflow-hidden shadow-2xl\">\r\n              <video\r\n                ref={videoRef}\r\n                className=\"hidden\"\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n              />\r\n              <canvas\r\n                ref={canvasRef}\r\n                className=\"w-full h-auto\"\r\n                width={640}\r\n                height={480}\r\n              />\r\n\r\n              <AnimatePresence>\r\n                {isRecording && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"absolute top-4 left-4 bg-red-600 text-white px-3 py-2 rounded-full text-sm font-semibold flex items-center gap-2\"\r\n                  >\r\n                    <motion.div\r\n                      animate={{ scale: [1, 1.2, 1] }}\r\n                      transition={{ duration: 1, repeat: Infinity }}\r\n                      className=\"w-2 h-2 bg-white rounded-full\"\r\n                    />\r\n                    REC - {captureCount}\r\n                  </motion.div>\r\n                )}\r\n\r\n                {cameraActive && currentSign && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg backdrop-blur-sm\"\r\n                  >\r\n                    Seña: {currentSign}\r\n                  </motion.div>\r\n                )}\r\n\r\n                {handsDetected && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, scale: 0.8 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    className=\"absolute top-4 right-4 bg-green-600 text-white px-3 py-2 rounded-full text-sm font-semibold\"\r\n                  >\r\n                    ✅ Detectado\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n\r\n              {!cameraActive && (\r\n                <div className=\"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-80 backdrop-blur-sm\">\r\n                  <div className=\"text-white text-center\">\r\n                    <div className=\"text-6xl mb-4\">📹</div>\r\n                    <p className=\"text-lg\">Inicia la cámara para comenzar</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {trainingProgress && chartData && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"bg-white p-6 rounded-2xl shadow-lg border border-gray-100\"\r\n            >\r\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">\r\n                Progreso del Entrenamiento\r\n              </h3>\r\n              <div className=\"h-64\">\r\n                <Line data={chartData} options={{\r\n                  responsive: true,\r\n                  maintainAspectRatio: false,\r\n                  plugins: {\r\n                    legend: {\r\n                      position: 'top' as const,\r\n                    },\r\n                  },\r\n                  scales: {\r\n                    y: {\r\n                      beginAtZero: true,\r\n                    },\r\n                  },\r\n                }} />\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </motion.div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default ModelTrainer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}